{"version":3,"sources":["utils/api.js","components/Footer.js","images/header-logo.svg","components/Header.js","components/Popup.js","components/ImagePopup.js","images/avatar.svg","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/MessagePopup.js","components/PopupWithForm.js","utils/constants.js","utils/utils.js","components/Field.js","components/SubmitButton.js","components/EditProfilePopup/constants.js","components/EditProfilePopup/EditProfilePopup.js","components/EditProfilePopup/index.js","components/AddPlacePopup/constants.js","components/AddPlacePopup/AddPlacePopup.js","components/AddPlacePopup/index.js","components/EditAvatarPopup/constants.js","components/EditAvatarPopup/EditAvatarPopup.js","components/EditAvatarPopup/index.js","components/LoadingSpinner.js","components/ConfirmPopup/constants.js","components/ConfirmPopup/ConfirmPopup.js","components/ConfirmPopup/index.js","components/App.js","reportWebVitals.js","index.js"],"names":["api","baseUrl","headers","errorHandler","this","_baseUrl","_headers","_errorHandler","path","method","body","errorMessage","fetch","URL","then","res","ok","json","Promise","reject","status","sendRequest","name","link","JSON","stringify","id","isLiked","setLike","removeLike","about","avatar","authorization","Footer","className","Header","src","logo","alt","Popup","children","onClose","isOpen","popupWrapperRef","React","useRef","popupContainerRef","closeButtonRef","escapeButtonHandler","evt","key","document","removeEventListener","useEffect","addEventListener","ref","onClick","target","current","type","ImagePopup","CurrentUserContext","createContext","Card","card","onCardClick","onCardLike","onCardDelete","currentUser","useContext","isOwn","owner","_id","likes","some","user","cardDeleteButtonClassName","cardLikeButtonClassName","length","Main","cards","onEditAvatar","onAddPlace","onEditProfile","defaultAvatar","map","data","MessagePopup","message","PopupWithForm","title","onSubmit","submitButton","action","noValidate","DOMProps","getOnlyDOMProps","props","Object","assign","keys","filter","prop","Field","useState","isValid","setValid","defaultValue","value","setValue","setErrorMessage","isErrorVisible","setErrorVisible","inputRef","isVisible","validity","valid","validationMessage","onInput","SubmitButton","isEnabled","undefined","text","popupSettings","submitButtonSettings","defaultText","loadingText","nameInputSettings","placeholder","minLength","maxLength","required","descriptionInputSettings","EditProfilePopup","onUpdateUser","nameInput","setNameInput","descriptionInput","setDescriptionInput","submitButtonText","setSubmitButtonText","every","preventDefault","finally","titleInputSettings","linkInputSettings","AddPlacePopup","titleInput","setTitleInput","linkInput","setLinkInput","avatarInputSettings","EditAvatarPopup","onUpdateAvatar","avatarInput","setAvatarInput","LoadingSpinner","ConfirmPopup","App","isAppLoading","setIsAppLoading","isEditProfilePopupOpen","setEditProfilePopupOpen","isAddPlacePopupOpen","setAddPlacePopupOpen","isEditAvatarPopupOpen","setEditAvatarPopupOpen","isConfirmPopupOpen","setConfirmPopupOpen","isMessagePopupOpen","setMessagePopupOpen","isImagePopupOpen","setImagePopupOpen","selectedCard","setSelectedCard","popupMessage","setPopupMessage","setCurrentUser","setCards","cardCandidateForDeletion","setCardCandidateForDeletion","handleApiError","all","getUserInfo","getInitialCards","result","userInfo","initialCards","promise","callback","catch","error","TypeError","closeAllPopups","Provider","changeLikeCardStatus","newCard","oldCard","setUserInfo","addPlace","changeAvatar","deleteCard","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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,SACG8C,EAAMK,KAAI,SAACC,GACV,OACE,cAAC,EAAD,CACEtB,KAAMsB,EAENpB,WAAYA,EACZD,YAAaA,EACbE,aAAcA,GAHTmB,EAAKd,cCrCTe,MAjBf,YAAmD,IAA5BC,EAA2B,EAA3BA,QAAS9C,EAAkB,EAAlBA,OAAQD,EAAU,EAAVA,QACtC,OACE,qBAAKP,UAAS,mCAA8BQ,GAAU,gBAAtD,SACE,sBAAKR,UAAU,mBAAf,UACE,qBAAKA,UAAU,iCAAf,SACE,sBAAMA,UAAU,oBAAhB,SAAqCsD,MAEvC,wBACEtD,UAAU,kHACVyB,KAAK,SACLH,QAASf,UCoBJgD,MA3Bf,YAQI,IAPFnE,EAOC,EAPDA,KACAoE,EAMC,EANDA,MACAlD,EAKC,EALDA,SACAC,EAIC,EAJDA,QACAC,EAGC,EAHDA,OACAiD,EAEC,EAFDA,SACAC,EACC,EADDA,aAEA,OACE,cAAC,EAAD,CAAOtE,KAAMA,EAAMoB,OAAQA,EAAQD,QAASA,EAA5C,SACE,uBACEP,UAAS,sBAAiBZ,EAAjB,SACTb,OAAO,OACPoF,OAAO,IACPvE,KAAMA,EACNwE,YAAU,EACVH,SAAUA,EANZ,UAQE,oBAAIzD,UAAU,cAAd,SAA6BwD,IAC5BlD,EACAoD,Q,OCoJMG,EA5KE,CACf,OACA,SACA,gBACA,YACA,SACA,kBACA,oBACA,MACA,QACA,eACA,YACA,WACA,cACA,cACA,YACA,UACA,UACA,OACA,QACA,YACA,OACA,UACA,UACA,UACA,kBACA,cACA,WACA,SACA,cACA,OACA,WACA,UACA,QACA,MACA,WACA,WACA,YACA,WACA,UACA,MACA,OACA,aACA,cACA,aACA,iBACA,aACA,cACA,UACA,SACA,SACA,OACA,OACA,WACA,UACA,YACA,OACA,KACA,YACA,QACA,SACA,WACA,UACA,YACA,WACA,OACA,QACA,OACA,OACA,OACA,WACA,MACA,YACA,QACA,aACA,SACA,MACA,YACA,WACA,QACA,OACA,aACA,OACA,UACA,UACA,OACA,cACA,SACA,UACA,aACA,WACA,MACA,WACA,OACA,OACA,UACA,UACA,QACA,SACA,YACA,WACA,WACA,QACA,OACA,QACA,WACA,OACA,aACA,MACA,SACA,SACA,QACA,OACA,QACA,WACA,SACA,QACA,YACA,OACA,gBACA,SACA,QACA,QACA,QACA,OACA,SACA,QACA,UACA,SACA,UACA,UACA,WACA,mBACA,qBACA,sBACA,YACA,aACA,UACA,UACA,SACA,WACA,UACA,WACA,UACA,gBACA,gBACA,SACA,YACA,cACA,aACA,cACA,aACA,cACA,SACA,cACA,eACA,eACA,cACA,aACA,cACA,YACA,WACA,gBACA,aACA,cACA,eACA,mBACA,iBACA,uBACA,mBC/JaC,EARS,SAACC,GACvB,OAAOC,OAAOC,OAAP,MAAAD,OAAM,YACRA,OAAOE,KAAKH,GACZI,QAAO,SAACnD,GAAD,OAAS6C,EAASrB,MAAK,SAAC4B,GAAD,OAAUA,IAASpD,QACjDmC,KAAI,SAACnC,GAAD,sBAAaA,EAAM+C,EAAM/C,UCqDrBqD,EAxDD,SAACN,GAAU,MAEKrD,IAAM4D,UAAS,GAFpB,mBAEhBC,EAFgB,KAEPC,EAFO,OAGG9D,IAAM4D,SAASP,EAAMU,cAHxB,mBAGhBC,EAHgB,KAGTC,EAHS,OAIiBjE,IAAM4D,SAAS,IAJhC,mBAIhB7F,EAJgB,KAIFmG,EAJE,OAKmBlE,IAAM4D,UAAS,GALlC,mBAKhBO,EALgB,KAKAC,EALA,KAQjBC,EAAWrE,IAAMC,SAGvBD,IAAMS,WAAU,WACV4C,EAAMiB,YACRD,EAASvD,QAAQkD,MAAQX,EAAMU,aAC/BE,EAASI,EAASvD,QAAQkD,OAC1BF,EAASO,EAASvD,QAAQyD,SAASC,OACnCN,EAAgBG,EAASvD,QAAQ2D,mBACjCL,GAAgB,MAEjB,CAACf,EAAMiB,YACVtE,IAAMS,WAAU,WACd4C,EAAMqB,QAAQ,CAAEV,QAAOH,cACtB,CAACG,EAAOH,IAWX,OACE,sBAAKvE,UAAU,wBAAf,UACE,iDACM8D,EAAgBC,IADtB,IAEE/D,UAAS,uBAAkB6E,EAAiB,qBAAuB,IACnErF,GAAE,UAAKuE,EAAM3E,KAAX,UACFA,KAAI,UAAK2E,EAAM3E,KAAX,SACJgG,QAfc,SAACrE,GACnB,IAAMQ,EAASR,EAAIQ,OACnBoD,EAASpD,EAAOmD,OAChBF,EAASjD,EAAO0D,SAASC,OACzBJ,GAAiBvD,EAAO0D,SAASC,OACjCN,EAAgBrD,EAAO4D,oBAWnBV,aAAcC,EACdrD,IAAK0D,KAEP,sBACE/E,UAAS,+BACP6E,EAAiB,+BAAiC,IAEpDrF,GAAE,UAAKuE,EAAM3E,KAAX,gBAJJ,SAMGX,QCjCM4G,MAjBf,SAAsBtB,GAEpB,OACE,kDACMD,EAAgBC,IADtB,IAEE/D,UAAS,oCAA+B+D,EAAM/D,UAArC,YACP+D,EAAMuB,gBAAiCC,IAApBxB,EAAMuB,UACrB,GACA,+BAEN7D,KAAK,SAPP,SASGsC,EAAMyB,SCfPC,EAAgB,CACpBrG,KAAM,eACNoE,MAAO,6HAEHkC,EAAuB,CAC3BC,YAAa,yDACbC,YAAa,kEACb5F,UAAW,uBAEP6F,EAAoB,CACxBzG,KAAM,OACNqC,KAAM,OACNqE,YAAa,qBACbC,UAAW,IACXC,UAAW,KACXC,UAAU,GAENC,EAA2B,CAC/B9G,KAAM,MACNqC,KAAM,OACNqE,YAAa,2EACbG,UAAU,EACVF,UAAW,IACXC,UAAW,OC8DEG,ICpFAA,EDWf,YAA8D,IAAlC5F,EAAiC,EAAjCA,QAASC,EAAwB,EAAxBA,OAAQ4F,EAAgB,EAAhBA,aAErClE,EAAcxB,IAAMyB,WAAWR,GAFsB,EAKzBjB,IAAM4D,SAAS,CAC/CI,MAAOxC,EAAY9C,KACnBmF,SAAS,IAPgD,mBAKpD8B,EALoD,KAKzCC,EALyC,OASX5F,IAAM4D,SAAS,CAC7DI,MAAOxC,EAAYwC,MACnBH,SAAS,IAXgD,mBASpDgC,EAToD,KASlCC,EATkC,OAa/B9F,IAAM4D,UAAS,GAbgB,mBAapDC,EAboD,KAa3CC,EAb2C,OAcX9D,IAAM4D,SACpDoB,EAAqBC,aAfoC,mBAcpDc,EAdoD,KAclCC,EAdkC,KAqC3D,OAnBAhG,IAAMS,WAAU,WAEdqD,EADe,CAAC6B,EAAWE,GACXI,OAAM,qBAAGpC,cACxB,CAAC8B,EAAWE,IAiBb,cAAC,EAAD,yBACEhG,QAASA,EACTC,OAAQA,EACRiD,SAjBiB,SAAC1C,GACpBA,EAAI6F,iBACArC,IACFmC,EAAoBhB,EAAqBE,aACzCQ,EAAa,CACXhH,KAAMiH,EAAU3B,MAChB9E,MAAO2G,EAAiB7B,QACvBmC,SAAQ,WACTH,EAAoBhB,EAAqBC,mBAUvCF,GAJN,IAKE/B,aACE,cAAC,EAAD,2BACMgC,GADN,IAEEJ,UAAWf,EACXiB,KAAMiB,KATZ,SAaE,2BAAUzG,UAAU,uCAApB,UACE,qBAAKA,UAAU,wBAAf,SACE,cAAC,EAAD,2BACM6F,GADN,IAEET,QAASkB,EACTtB,UAAWxE,EACXiE,aAAcvC,EAAY9C,UAG9B,qBAAKY,UAAU,wBAAf,SACE,cAAC,EAAD,2BACMkG,GADN,IAEEd,QAASoB,EACTxB,UAAWxE,EACXiE,aAAcvC,EAAYtC,kBE7EhC6F,EAAgB,CACpBrG,KAAM,cACNoE,MAAO,iEAEHkC,EAAuB,CAC3BC,YAAa,mDACbC,YAAa,4DACb5F,UAAW,uBAEP8G,EAAqB,CACzB1H,KAAM,QACNqC,KAAM,OACNgD,aAAc,GACdqB,YAAa,mDACbC,UAAW,IACXC,UAAW,KACXC,UAAU,GAENc,EAAoB,CACxB3H,KAAM,OACNqC,KAAM,MACNgD,aAAc,GACdqB,YAAa,qGACbG,UAAU,GCwDGe,IC9EAA,EDUf,YAAyD,IAAhCzG,EAA+B,EAA/BA,QAASC,EAAsB,EAAtBA,OAAQwC,EAAc,EAAdA,WAAc,EAElBtC,IAAM4D,SAAS,CACjDI,MAAO,GACPH,SAAS,IAJ2C,mBAE/C0C,EAF+C,KAEnCC,EAFmC,OAMpBxG,IAAM4D,SAAS,CAC/CI,MAAO,GACPH,SAAS,IAR2C,mBAM/C4C,EAN+C,KAMpCC,EANoC,OAU1B1G,IAAM4D,UAAS,GAVW,mBAU/CC,EAV+C,KAUtCC,EAVsC,OAWN9D,IAAM4D,SACpDoB,EAAqBC,aAZ+B,mBAW/Cc,EAX+C,KAW7BC,EAX6B,KAkCtD,OAlBAhG,IAAMS,WAAU,WAEdqD,EADe,CAACyC,EAAYE,GACZR,OAAM,qBAAGpC,cACxB,CAAC0C,EAAYE,IAgBd,cAAC,EAAD,yBACE5G,QAASA,EACTC,OAAQA,EACRiD,SAhBiB,SAAC1C,GACpBA,EAAI6F,iBACArC,IACFmC,EAAoBhB,EAAqBE,aACzC5C,EAAW,CAAE5D,KAAM6H,EAAWvC,MAAOrF,KAAM8H,EAAUzC,QAASmC,SAC5D,WACEH,EAAoBhB,EAAqBC,mBAWzCF,GAJN,IAKE/B,aACE,cAAC,EAAD,2BACMgC,GADN,IAEEJ,UAAWf,EACXiB,KAAMiB,KATZ,SAaE,2BAAUzG,UAAU,sCAApB,UACE,qBAAKA,UAAU,wBAAf,SACE,cAAC,EAAD,2BACM8G,GADN,IAEE1B,QAAS8B,EACTlC,UAAWxE,OAGf,qBAAKR,UAAU,wBAAf,SACE,cAAC,EAAD,2BACM+G,GADN,IAEE3B,QAASgC,EACTpC,UAAWxE,cEvEjBiF,EAAgB,CACpBrG,KAAM,gBACNoE,MAAO,yFAEHkC,EAAuB,CAC3BC,YAAa,yDACbC,YAAa,kEACb5F,UAAW,uBAEPqH,EAAsB,CAC1BjI,KAAM,SACNqC,KAAM,MACNgD,aAAc,GACdqB,YAAa,qGACbG,UAAU,GCmDGqB,IChEAA,EDSf,YAA+D,IAApC/G,EAAmC,EAAnCA,QAASC,EAA0B,EAA1BA,OAAQ+G,EAAkB,EAAlBA,eAAkB,EAGtB7G,IAAM4D,SAAS,CACnDI,MAAO,GACPH,SAAS,IALiD,mBAGrDiD,EAHqD,KAGxCC,EAHwC,OAOhC/G,IAAM4D,UAAS,GAPiB,mBAOrDC,EAPqD,KAO5CC,EAP4C,OAQZ9D,IAAM4D,SACpDoB,EAAqBC,aATqC,mBAQrDc,EARqD,KAQnCC,EARmC,KA4B5D,OAfAhG,IAAMS,WAAU,WACdqD,EAASgD,EAAYjD,WACpB,CAACiD,IAcF,cAAC,EAAD,yBACEjH,QAASA,EACTC,OAAQA,EACRiD,SAdiB,SAAC1C,GACpBA,EAAI6F,iBACArC,IACFmC,EAAoBhB,EAAqBE,aACzC2B,EAAe,CAAE1H,OAAQ2H,EAAY9C,QAASmC,SAAQ,WACpDH,EAAoBhB,EAAqBC,mBAUvCF,GAJN,IAKE/B,aACE,cAAC,EAAD,2BACMgC,GADN,IAEEJ,UAAWf,EACXiB,KAAMiB,KATZ,SAaE,0BAAUzG,UAAU,wCAApB,SACE,qBAAKA,UAAU,wBAAf,SACE,cAAC,EAAD,2BACMqH,GADN,IAEEjC,QAASqC,EACTzC,UAAWxE,aEtDRkH,MAHf,WACE,OAAO,qBAAK1H,UAAU,qBCDlByF,EAAgB,CACpBrG,KAAM,UACNoE,MAAO,4DAEHkC,EAAuB,CAC3B1F,UAAW,sBACX2F,YAAa,eACbC,YAAa,uDCyBA+B,IC/BAA,EDIf,YAAgE,IAAxCpH,EAAuC,EAAvCA,QAASC,EAA8B,EAA9BA,OAAQyB,EAAsB,EAAtBA,aAAcH,EAAQ,EAARA,KAAQ,EAEbpB,IAAM4D,SACpDoB,EAAqBC,aAHsC,mBAEtDc,EAFsD,KAEpCC,EAFoC,KAc7D,OACE,cAAC,EAAD,yBACElG,OAAQA,EACRD,QAASA,EACTkD,SAXiB,SAAC1C,GACpBA,EAAI6F,iBACJF,EAAoBhB,EAAqBE,aACzC3D,EAAaH,GAAM+E,SAAQ,WACzBH,EAAoBhB,EAAqBC,kBAQrCF,GAJN,IAKE/B,aACE,cAAC,EAAD,2BAAkBgC,GAAlB,IAAwCF,KAAMiB,SEyKvCmB,MArLf,WAAe,MAE2BlH,IAAM4D,UAAS,GAF1C,mBAENuD,EAFM,KAEQC,EAFR,OAG6CpH,IAAM4D,UAC9D,GAJW,mBAGNyD,EAHM,KAGkBC,EAHlB,OAMuCtH,IAAM4D,UAAS,GANtD,mBAMN2D,EANM,KAMeC,EANf,OAO2CxH,IAAM4D,UAAS,GAP1D,mBAON6D,EAPM,KAOiBC,EAPjB,OAQqC1H,IAAM4D,UAAS,GARpD,mBAQN+D,EARM,KAQcC,EARd,OASqC5H,IAAM4D,UAAS,GATpD,mBASNiE,EATM,KAScC,EATd,OAUiC9H,IAAM4D,UAAS,GAVhD,mBAUNmE,EAVM,KAUYC,EAVZ,OAW2BhI,IAAM4D,WAXjC,mBAWNqE,EAXM,KAWQC,EAXR,OAY2BlI,IAAM4D,WAZjC,mBAYNuE,EAZM,KAYQC,EAZR,OAayBpI,IAAM4D,SAAS,CACnDlF,KAAM,GACNQ,MAAO,GACPC,OAAQ,GACRyC,IAAK,KAjBM,oBAaNJ,GAbM,MAaO6G,GAbP,SAmBarI,IAAM4D,SAAS,IAnB5B,qBAmBNxB,GAnBM,MAmBCkG,GAnBD,SAuBTtI,IAAM4D,WAvBG,qBAqBX2E,GArBW,MAsBXC,GAtBW,MA0BbxI,IAAMS,WAAU,WACdgI,GACEnK,QAAQoK,IAAI,CAACtL,EAAIuL,cAAevL,EAAIwL,qBACpC,SAACC,GAAY,IAAD,cACuBA,EADvB,GACHC,EADG,KACOC,EADP,KAEVV,GAAeS,GACfR,GAASS,GACT3B,GAAgB,QAGnB,IAGH,IAAMqB,GAAiB,SAACO,EAASC,GAC/B,OAAOD,EACJ9K,MAAK,SAACwE,GAAD,OAAUuG,EAASvG,MACxBwG,OAAM,SAACC,GACFA,aAAiBC,UACnBhB,EACE,uTAGFA,EAD0B,kBAAVe,EACAA,EAEA,2QAElBrB,GAAoB,OAgEpBuB,GAAiB,WACrB3B,GAAuB,GACvBJ,GAAwB,GACxBE,GAAqB,GACrBI,GAAoB,GACpBI,GAAkB,IAGpB,OACE,qBAAK1I,UAAU,OAAf,SACE,eAAC,EAAmBgK,SAApB,CAA6BtF,MAAOxC,GAApC,UACE,cAAC,EAAD,IACC2F,EACC,cAAC,EAAD,IAEA,qCACE,cAAC,EAAD,CACE/E,MAAOA,GACPG,cAxDmB,WAC7B+E,GAAwB,IAwDdhF,WAtDgB,WAC1BkF,GAAqB,IAsDXnF,aA7DkB,WAC5BqF,GAAuB,IA6DbrG,YAlDY,SAACD,GACvB8G,EAAgB9G,GAChB4G,GAAkB,IAiDR1G,WA/CW,SAACF,GACtB,IAAMrC,EAAUqC,EAAKS,MAAMC,MAAK,SAACC,GAAD,OAAUA,EAAKH,MAAQJ,GAAYI,OACnE6G,GAAerL,EAAImM,qBAAqBnI,EAAKQ,KAAM7C,IAAU,SAACyK,GAC5DlB,GACElG,GAAMK,KAAI,SAACgH,GAAD,OAAcA,EAAQ7H,MAAQR,EAAKQ,IAAM4H,EAAUC,UA4CvDlI,aAxCkB,SAACH,GAC7BoH,GAA4BpH,GAC5BwG,GAAoB,MAwCZ,cAAC,EAAD,CACE9H,OAAQuH,EACRxH,QAASwJ,GACT3D,aAzFa,SAAChD,GACxB,OAAO+F,GAAerL,EAAIsM,YAAYhH,IAAO,SAACoG,GAC5CT,GAAeS,GACfxB,GAAwB,SAwFlB,cAAC,EAAD,CACExH,OAAQyH,EACR1H,QAASwJ,GACT/G,WAxFW,SAACI,GACtB,OAAO+F,GAAerL,EAAIuM,SAASjH,IAAO,SAAC8G,GACzClB,GAAS,CAACkB,GAAF,mBAAcpH,MACtBoF,GAAqB,SAuFf,cAAC,EAAD,CACE1H,OAAQ2H,EACR5H,QAASwJ,GACTxC,eAvFe,SAACnE,GAC1B,OAAO+F,GAAerL,EAAIwM,aAAalH,EAAKvD,SAAS,YAAiB,IAAdA,EAAa,EAAbA,OACtDqC,GAAYrC,OAASA,EACrBuI,GAAuB,SAsFjB,cAAC,EAAD,2BACMO,GADN,IAEEnI,OAAQiI,EACRlI,QAASwJ,MAEX,cAAC,EAAD,CACEvJ,OAAQ+H,EACRhI,QAnDc,WACxBiI,GAAoB,IAmDVlF,QAASuF,IAEX,cAAC,EAAD,CACE/G,KAAMmH,GACNhH,aAjEa,SAACH,GACxB,OAAOqH,GAAerL,EAAIyM,WAAWzI,EAAKQ,MAAM,WAC9C0G,GAASlG,GAAMqB,QAAO,SAACgG,GAAD,OAAaA,EAAQ7H,MAAQR,EAAKQ,QACxDgG,GAAoB,OA+DZ9H,OAAQ6H,EACR9H,QAASwJ,QAKf,cAAC,EAAD,U,QCjLOS,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqB9L,MAAK,YAAkD,IAA/C+L,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCAdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,IAAD,UACE,cAAC,EAAD,QAGJjK,SAASkK,eAAe,SAM1BX,M","file":"static/js/main.71f12527.chunk.js","sourcesContent":["export class Api {\n  constructor({ baseUrl, headers, errorHandler }) {\n    this._baseUrl = baseUrl;\n    this._headers = headers;\n    this._errorHandler = errorHandler;\n  }\n\n  sendRequest({ path, method = \"GET\", body, errorMessage }) {\n    return fetch(new URL(path, this._baseUrl), {\n      method: method,\n      headers: this._headers,\n      body: body,\n    }).then((res) => {\n      if (res.ok) {\n        return res.json();\n      }\n      return Promise.reject(`${errorMessage}. Код ошибки: ${res.status}`);\n    });\n  }\n\n  getInitialCards() {\n    return this.sendRequest({\n      path: \"cards\",\n      errorMessage: \"При запросе карточек произошла ошибка\",\n    });\n  }\n\n  addPlace({ name, link }) {\n    return this.sendRequest({\n      path: \"cards\",\n      method: \"POST\",\n      body: JSON.stringify({\n        name,\n        link,\n      }),\n      errorMessage: \"При добавлении карточки произошла ошибка\",\n    });\n  }\n\n  deleteCard(id) {\n    return this.sendRequest({\n      path: `cards/${id}`,\n      method: \"DELETE\",\n      errorMessage: \"При удалении карточки произошла ошибка\",\n    });\n  }\n\n  setLike(id) {\n    return this.sendRequest({\n      path: `cards/likes/${id}`,\n      method: \"PUT\",\n      errorMessage: \"При попытке поставить like произошла ошибка\",\n    });\n  }\n\n  removeLike(id) {\n    return this.sendRequest({\n      path: `cards/likes/${id}`,\n      method: \"DELETE\",\n      errorMessage: \"При попытке убрать like произошла ошибка\",\n    });\n  }\n\n  changeLikeCardStatus(id, isLiked) {\n    return isLiked ? this.setLike(id) : this.removeLike(id);\n  }\n\n  getUserInfo() {\n    return this.sendRequest({\n      path: \"users/me\",\n      errorMessage: \"При получении данных профиля произошла ошибка\",\n    });\n  }\n\n  setUserInfo({ name, about }) {\n    return this.sendRequest({\n      path: \"users/me\",\n      method: \"PATCH\",\n      body: JSON.stringify({\n        name: name,\n        about: about,\n      }),\n      errorMessage: \"При редактировании профиля произошла ошибка\",\n    });\n  }\n\n  changeAvatar(link) {\n    return this.sendRequest({\n      path: \"users/me/avatar\",\n      method: \"PATCH\",\n      body: JSON.stringify({\n        avatar: link,\n      }),\n      errorMessage: \"При обновлении аватара произошла ошибка\",\n    });\n  }\n}\n\nconst api = new Api({\n  baseUrl: \"https://mesto.nomoreparties.co/v1/cohort-19/\",\n  headers: {\n    authorization: \"68d238d8-54dd-4a8c-9a47-e308386a3ea7\",\n    \"Content-Type\": \"application/json; charset=utf-8\",\n  },\n  // TODO разобраться с ErrorHandler\n  // errorHandler: errorHandler,\n});\n\nexport default api;\n","function Footer() {\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__copyright\">© 2020 — 2021 Mesto Russia</p>\n    </footer>\n  );\n}\n\nexport default Footer;\n","export default __webpack_public_path__ + \"static/media/header-logo.c2821b38.svg\";","import logo from \"../images/header-logo.svg\";\n\nfunction Header() {\n  return (\n    <header className=\"header\">\n      <img\n        className=\"header__logo\"\n        src={logo}\n        alt=\"Места России\"\n      />\n    </header>\n  );\n}\n\nexport default Header;\n","import React from \"react\";\n\nfunction Popup({ name, children, onClose, isOpen }) {\n  // constants\n  const escapeKeyCode = \"Escape\";\n\n  // refs\n  const popupWrapperRef = React.useRef();\n  const popupContainerRef = React.useRef();\n  const closeButtonRef = React.useRef();\n\n  // handlers\n  const escapeButtonHandler = (evt) => {\n    if (evt.key === escapeKeyCode) {\n      onClose();\n      document.removeEventListener(\"keydown\", escapeButtonHandler);\n    }\n  };\n  const handleClose = (evt) => {\n    if (\n      evt.target === popupWrapperRef.current ||\n      evt.target === closeButtonRef.current ||\n      evt.target === popupContainerRef.current\n    ) {\n      onClose();\n    }\n  };\n\n  // effects\n  React.useEffect(() => {\n    if (isOpen) {\n      document.addEventListener(\"keydown\", escapeButtonHandler);\n    }\n  }, [isOpen]);\n  return (\n    <div\n      className={`popup popup_type_${name} ${isOpen && \"popup_opened\"}`}\n      ref={popupWrapperRef}\n      onClick={handleClose}\n    >\n      <div className=\"popup__container\" ref={popupContainerRef}>\n        {children}\n        <button\n          className=\"button button_type_close popup__close-button\"\n          type=\"button\"\n          ref={closeButtonRef}\n        ></button>\n      </div>\n    </div>\n  );\n}\n\nexport default Popup;\n","import Popup from \"./Popup\";\n\nfunction ImagePopup({ name, link, isOpen, onClose }) {\n  return (\n    <Popup name={name} isOpen={isOpen} onClose={onClose}>\n      <div className=\"popup__picture picture\">\n        <img className=\"picture__image\" src={link} alt={name} />\n        <p className=\"picture__description\">{name}</p>\n      </div>\n    </Popup>\n  );\n}\n\nexport default ImagePopup;\n","export default __webpack_public_path__ + \"static/media/avatar.c2fc30b5.svg\";","import React from \"react\";\nconst CurrentUserContext = React.createContext();\nexport default CurrentUserContext;\n","import React from \"react\";\nimport CurrentUserContext from \"../contexts/CurrentUserContext\";\n\nfunction Card({ card, onCardClick, onCardLike, onCardDelete }) {\n  const currentUser = React.useContext(CurrentUserContext);\n\n  // bool variables\n  const isOwn = card.owner._id === currentUser._id;\n  const isLiked = card.likes.some((user) => user._id === currentUser._id);\n\n  // className variables\n  const cardDeleteButtonClassName = `button button_type_delete element__delete-button ${\n    isOwn ? \"button_visible\" : \"button_hidden\"\n  }`;\n  const cardLikeButtonClassName = `button button_type_like element__like-button ${\n    isLiked ? \"button_like-active\" : \"\"\n  }`;\n\n  // handlers\n  const handleClick = () => {\n    onCardClick(card);\n  };\n\n  const handleLike = () => {\n    onCardLike(card);\n  };\n\n  const handleDelete = () => {\n    onCardDelete(card);\n  };\n\n  return (\n    <article className=\"element\">\n      <img\n        className=\"element__image\"\n        src={card.link}\n        alt={card.name}\n        onClick={handleClick}\n      />\n      <div className=\"element__sidebar\">\n        <h3 className=\"element__title\">{card.name}</h3>\n        <div className=\"element__like-container\">\n          <button\n            className={cardLikeButtonClassName}\n            onClick={handleLike}\n            type=\"button\"\n          ></button>\n          <span className=\"element__like-count\">{card.likes.length}</span>\n        </div>\n        <button\n          className={cardDeleteButtonClassName}\n          onClick={handleDelete}\n          type=\"button\"\n        ></button>\n      </div>\n    </article>\n  );\n}\n\nexport default Card;\n","import React from \"react\";\nimport defaultAvatar from \"../images/avatar.svg\";\nimport Card from \"./Card\";\nimport CurrentUserContext from \"../contexts/CurrentUserContext\";\n\nfunction Main({\n  cards,\n  onEditAvatar,\n  onAddPlace,\n  onCardClick,\n  onCardLike,\n  onCardDelete,\n  onEditProfile,\n}) {\n  // contexts\n  const currentUser = React.useContext(CurrentUserContext);\n\n  return (\n    <main className=\"content\">\n      <section className=\"profile\">\n        <div className=\"profile__image-container\">\n          <img\n            className=\"profile__avatar\"\n            src={currentUser.avatar || defaultAvatar}\n            alt=\"Аватар пользователя\"\n          />\n          <button\n            className=\"button profile__edit-avatar-button\"\n            onClick={onEditAvatar}\n          ></button>\n        </div>\n        <div className=\"profile__text\">\n          <div className=\"profile__name-container\">\n            <h1 className=\"profile__name\">{currentUser.name}</h1>\n            <button\n              className=\"button button_type_edit profile__edit-button\"\n              onClick={onEditProfile}\n              type=\"button\"\n            ></button>\n          </div>\n          <p className=\"profile__about\">{currentUser.about}</p>\n        </div>\n        <button\n          className=\"button button_type_add profile__add-button\"\n          onClick={onAddPlace}\n          type=\"button\"\n        ></button>\n      </section>\n\n      <section className=\"elements\">\n        {cards.map((data) => {\n          return (\n            <Card\n              card={data}\n              key={data._id}\n              onCardLike={onCardLike}\n              onCardClick={onCardClick}\n              onCardDelete={onCardDelete}\n            />\n          );\n        })}\n      </section>\n    </main>\n  );\n}\n\nexport default Main;\n","function MessagePopup({message, isOpen, onClose}) {\n  return (\n    <div className={`popup popup_type_message ${isOpen && \"popup_opened\"}`}>\n      <div className=\"popup__container\">\n        <div className=\"popup__message-box message-box\">\n          <span className=\"message-box__text\">{message}</span>\n        </div>\n        <button\n          className=\"popup__close-button popup__close-button_indent button button_type_close button_small-size button_inverted-color\"\n          type=\"button\"\n          onClick={onClose}\n        ></button>\n      </div>\n    </div>\n  );\n}\n\nexport default MessagePopup;\n","import React from \"react\";\nimport Popup from \"./Popup\";\n\nfunction PopupWithForm({\n  name,\n  title,\n  children,\n  onClose,\n  isOpen,\n  onSubmit,\n  submitButton,\n}) {\n  return (\n    <Popup name={name} isOpen={isOpen} onClose={onClose}>\n      <form\n        className={`form popup__${name}-form`}\n        method=\"POST\"\n        action=\"/\"\n        name={name}\n        noValidate\n        onSubmit={onSubmit}\n      >\n        <h2 className=\"form__title\">{title}</h2>\n        {children}\n        {submitButton}\n      </form>\n    </Popup>\n  );\n}\n\nexport default PopupWithForm;\n","const DOMProps = [\n  \"abbr\",\n  \"accept\",\n  \"acceptCharset\",\n  \"accessKey\",\n  \"action\",\n  \"allowFullScreen\",\n  \"allowTransparency\",\n  \"alt\",\n  \"async\",\n  \"autoComplete\",\n  \"autoFocus\",\n  \"autoPlay\",\n  \"cellPadding\",\n  \"cellSpacing\",\n  \"challenge\",\n  \"charset\",\n  \"checked\",\n  \"cite\",\n  \"class\",\n  \"className\",\n  \"cols\",\n  \"colSpan\",\n  \"command\",\n  \"content\",\n  \"contentEditable\",\n  \"contextMenu\",\n  \"controls\",\n  \"coords\",\n  \"crossOrigin\",\n  \"data\",\n  \"dateTime\",\n  \"default\",\n  \"defer\",\n  \"dir\",\n  \"disabled\",\n  \"download\",\n  \"draggable\",\n  \"dropzone\",\n  \"encType\",\n  \"for\",\n  \"form\",\n  \"formAction\",\n  \"formEncType\",\n  \"formMethod\",\n  \"formNoValidate\",\n  \"formTarget\",\n  \"frameBorder\",\n  \"headers\",\n  \"height\",\n  \"hidden\",\n  \"high\",\n  \"href\",\n  \"hrefLang\",\n  \"htmlFor\",\n  \"httpEquiv\",\n  \"icon\",\n  \"id\",\n  \"inputMode\",\n  \"isMap\",\n  \"itemId\",\n  \"itemProp\",\n  \"itemRef\",\n  \"itemScope\",\n  \"itemType\",\n  \"kind\",\n  \"label\",\n  \"lang\",\n  \"list\",\n  \"loop\",\n  \"manifest\",\n  \"max\",\n  \"maxLength\",\n  \"media\",\n  \"mediaGroup\",\n  \"method\",\n  \"min\",\n  \"minLength\",\n  \"multiple\",\n  \"muted\",\n  \"name\",\n  \"noValidate\",\n  \"open\",\n  \"optimum\",\n  \"pattern\",\n  \"ping\",\n  \"placeholder\",\n  \"poster\",\n  \"preload\",\n  \"radioGroup\",\n  \"readOnly\",\n  \"rel\",\n  \"required\",\n  \"role\",\n  \"rows\",\n  \"rowSpan\",\n  \"sandbox\",\n  \"scope\",\n  \"scoped\",\n  \"scrolling\",\n  \"seamless\",\n  \"selected\",\n  \"shape\",\n  \"size\",\n  \"sizes\",\n  \"sortable\",\n  \"span\",\n  \"spellCheck\",\n  \"src\",\n  \"srcDoc\",\n  \"srcSet\",\n  \"start\",\n  \"step\",\n  \"style\",\n  \"tabIndex\",\n  \"target\",\n  \"title\",\n  \"translate\",\n  \"type\",\n  \"typeMustMatch\",\n  \"useMap\",\n  \"value\",\n  \"width\",\n  \"wmode\",\n  \"wrap\",\n  \"onCopy\",\n  \"onCut\",\n  \"onPaste\",\n  \"onLoad\",\n  \"onError\",\n  \"onWheel\",\n  \"onScroll\",\n  \"onCompositionEnd\",\n  \"onCompositionStart\",\n  \"onCompositionUpdate\",\n  \"onKeyDown\",\n  \"onKeyPress\",\n  \"onKeyUp\",\n  \"onFocus\",\n  \"onBlur\",\n  \"onChange\",\n  \"onInput\",\n  \"onSubmit\",\n  \"onClick\",\n  \"onContextMenu\",\n  \"onDoubleClick\",\n  \"onDrag\",\n  \"onDragEnd\",\n  \"onDragEnter\",\n  \"onDragExit\",\n  \"onDragLeave\",\n  \"onDragOver\",\n  \"onDragStart\",\n  \"onDrop\",\n  \"onMouseDown\",\n  \"onMouseEnter\",\n  \"onMouseLeave\",\n  \"onMouseMove\",\n  \"onMouseOut\",\n  \"onMouseOver\",\n  \"onMouseUp\",\n  \"onSelect\",\n  \"onTouchCancel\",\n  \"onTouchEnd\",\n  \"onTouchMove\",\n  \"onTouchStart\",\n  \"onAnimationStart\",\n  \"onAnimationEnd\",\n  \"onAnimationIteration\",\n  \"onTransitionEnd\",\n];\n\nexport default DOMProps;\n","import DOMProps from \"./constants\";\n\nconst getOnlyDOMProps = (props) => {\n  return Object.assign(\n    ...Object.keys(props)\n      .filter((key) => DOMProps.some((prop) => prop === key))\n      .map((key) => ({ [key]: props[key] }))\n  );\n};\n\nexport default getOnlyDOMProps;\n","import React from \"react\";\nimport getOnlyDOMProps from \"../utils/utils\";\n\nconst Field = (props) => {\n  // states\n  const [isValid, setValid] = React.useState(false);\n  const [value, setValue] = React.useState(props.defaultValue);\n  const [errorMessage, setErrorMessage] = React.useState(\"\");\n  const [isErrorVisible, setErrorVisible] = React.useState(false);\n\n  // refs\n  const inputRef = React.useRef();\n\n  // effects\n  React.useEffect(() => {\n    if (props.isVisible) {\n      inputRef.current.value = props.defaultValue;\n      setValue(inputRef.current.value);\n      setValid(inputRef.current.validity.valid);\n      setErrorMessage(inputRef.current.validationMessage);\n      setErrorVisible(false);\n    }\n  }, [props.isVisible]);\n  React.useEffect(() => {\n    props.onInput({ value, isValid });\n  }, [value, isValid]);\n\n  // handlers\n  const handleInput = (evt) => {\n    const target = evt.target;\n    setValue(target.value);\n    setValid(target.validity.valid);\n    setErrorVisible(!target.validity.valid);\n    setErrorMessage(target.validationMessage);\n  };\n\n  return (\n    <div className=\"field fieldset__field\">\n      <input\n        {...getOnlyDOMProps(props)}\n        className={`field__input ${isErrorVisible ? \"field__input_error\" : \"\"}`}\n        id={`${props.name}-input`}\n        name={`${props.name}Input`}\n        onInput={handleInput}\n        defaultValue={value}\n        ref={inputRef}\n      />\n      <span\n        className={`field__error-message ${\n          isErrorVisible ? \"field__error-message_visible\" : \"\"\n        }`}\n        id={`${props.name}-input-error`}\n      >\n        {errorMessage}\n      </span>\n    </div>\n  );\n};\n\nexport default Field;\n","import React from \"react\";\nimport getOnlyDOMProps from \"../utils/utils\";\n\nfunction SubmitButton(props) {\n  // проверка на undefined необходима для включения кнопки, если клиент не определил ее поведение\n  return (\n    <button\n      {...getOnlyDOMProps(props)}\n      className={`button button_type_submit ${props.className} ${\n        props.isEnabled || props.isEnabled === undefined\n          ? \"\"\n          : \"button_type_submit-disabled\"\n      }`}\n      type=\"submit\"\n    >\n      {props.text}\n    </button>\n  );\n}\n\nexport default SubmitButton;\n","const popupSettings = {\n  name: \"edit-profile\",\n  title: \"Редактировать профиль\",\n};\nconst submitButtonSettings = {\n  defaultText: \"Сохранить\",\n  loadingText: \"Сохранение...\",\n  className: \"form__submit-button\",\n};\nconst nameInputSettings = {\n  name: \"name\",\n  type: \"text\",\n  placeholder: \"Имя\",\n  minLength: \"2\",\n  maxLength: \"40\",\n  required: true,\n};\nconst descriptionInputSettings = {\n  name: \"job\",\n  type: \"text\",\n  placeholder: \"Деятельность\",\n  required: true,\n  minLength: \"2\",\n  maxLength: \"200\",\n};\n\nexport {\n  popupSettings,\n  submitButtonSettings,\n  nameInputSettings,\n  descriptionInputSettings,\n};\n","import React from \"react\";\nimport PopupWithForm from \"../PopupWithForm\";\nimport CurrentUserContext from \"../../contexts/CurrentUserContext\";\nimport Field from \"../Field\";\nimport SubmitButton from \"../SubmitButton\";\nimport {\n  popupSettings,\n  submitButtonSettings,\n  nameInputSettings,\n  descriptionInputSettings,\n} from \"./constants\";\n\nfunction EditProfilePopup({ onClose, isOpen, onUpdateUser }) {\n  // contexts\n  const currentUser = React.useContext(CurrentUserContext);\n\n  // states\n  const [nameInput, setNameInput] = React.useState({\n    value: currentUser.name,\n    isValid: false,\n  });\n  const [descriptionInput, setDescriptionInput] = React.useState({\n    value: currentUser.value,\n    isValid: false,\n  });\n  const [isValid, setValid] = React.useState(false);\n  const [submitButtonText, setSubmitButtonText] = React.useState(\n    submitButtonSettings.defaultText\n  );\n\n  React.useEffect(() => {\n    const inputs = [nameInput, descriptionInput];\n    setValid(inputs.every(({ isValid }) => isValid));\n  }, [nameInput, descriptionInput]);\n\n  // handlers\n  const handleSubmit = (evt) => {\n    evt.preventDefault();\n    if (isValid) {\n      setSubmitButtonText(submitButtonSettings.loadingText);\n      onUpdateUser({\n        name: nameInput.value,\n        about: descriptionInput.value,\n      }).finally(() => {\n        setSubmitButtonText(submitButtonSettings.defaultText);\n      });\n    }\n  };\n\n  return (\n    <PopupWithForm\n      onClose={onClose}\n      isOpen={isOpen}\n      onSubmit={handleSubmit}\n      {...popupSettings}\n      submitButton={\n        <SubmitButton\n          {...submitButtonSettings}\n          isEnabled={isValid}\n          text={submitButtonText}\n        />\n      }\n    >\n      <fieldset className=\"fieldset form__edit-profile-fieldset\">\n        <div className=\"field fieldset__field\">\n          <Field\n            {...nameInputSettings}\n            onInput={setNameInput}\n            isVisible={isOpen}\n            defaultValue={currentUser.name}\n          />\n        </div>\n        <div className=\"field fieldset__field\">\n          <Field\n            {...descriptionInputSettings}\n            onInput={setDescriptionInput}\n            isVisible={isOpen}\n            defaultValue={currentUser.about}\n          />\n        </div>\n      </fieldset>\n    </PopupWithForm>\n  );\n}\n\nexport default EditProfilePopup;\n","import EditProfilePopup from \"./EditProfilePopup\";\nexport default EditProfilePopup;","const popupSettings = {\n  name: \"add-element\",\n  title: \"Новое место\",\n};\nconst submitButtonSettings = {\n  defaultText: \"Добавить\",\n  loadingText: \"Добавляем...\",\n  className: \"form__submit-button\",\n};\nconst titleInputSettings = {\n  name: \"title\",\n  type: \"text\",\n  defaultValue: \"\",\n  placeholder: \"Название\",\n  minLength: \"1\",\n  maxLength: \"30\",\n  required: true,\n};\nconst linkInputSettings = {\n  name: \"link\",\n  type: \"url\",\n  defaultValue: \"\",\n  placeholder: \"Ссылка на картинку\",\n  required: true,\n};\n\nexport {\n  popupSettings,\n  submitButtonSettings,\n  titleInputSettings,\n  linkInputSettings,\n};\n","import React from \"react\";\nimport Field from \"../Field\";\nimport PopupWithForm from \"../PopupWithForm\";\nimport SubmitButton from \"../SubmitButton\";\nimport {\n  popupSettings,\n  submitButtonSettings,\n  titleInputSettings,\n  linkInputSettings,\n} from \"./constants\";\n\nfunction AddPlacePopup({ onClose, isOpen, onAddPlace }) {\n  // states\n  const [titleInput, setTitleInput] = React.useState({\n    value: \"\",\n    isValid: false,\n  });\n  const [linkInput, setLinkInput] = React.useState({\n    value: \"\",\n    isValid: false,\n  });\n  const [isValid, setValid] = React.useState(false);\n  const [submitButtonText, setSubmitButtonText] = React.useState(\n    submitButtonSettings.defaultText\n  );\n\n  // effects\n  React.useEffect(() => {\n    const inputs = [titleInput, linkInput];\n    setValid(inputs.every(({ isValid }) => isValid));\n  }, [titleInput, linkInput]);\n\n  // handlers\n  const handleSubmit = (evt) => {\n    evt.preventDefault();\n    if (isValid) {\n      setSubmitButtonText(submitButtonSettings.loadingText);\n      onAddPlace({ name: titleInput.value, link: linkInput.value }).finally(\n        () => {\n          setSubmitButtonText(submitButtonSettings.defaultText);\n        }\n      );\n    }\n  };\n\n  return (\n    <PopupWithForm\n      onClose={onClose}\n      isOpen={isOpen}\n      onSubmit={handleSubmit}\n      {...popupSettings}\n      submitButton={\n        <SubmitButton\n          {...submitButtonSettings}\n          isEnabled={isValid}\n          text={submitButtonText}\n        />\n      }\n    >\n      <fieldset className=\"fieldset form__add-element-fieldset\">\n        <div className=\"field fieldset__field\">\n          <Field\n            {...titleInputSettings}\n            onInput={setTitleInput}\n            isVisible={isOpen}\n          />\n        </div>\n        <div className=\"field fieldset__field\">\n          <Field\n            {...linkInputSettings}\n            onInput={setLinkInput}\n            isVisible={isOpen}\n          />\n        </div>\n      </fieldset>\n    </PopupWithForm>\n  );\n}\n\nexport default AddPlacePopup;\n","import AddPlacePopup from \"./AddPlacePopup\";\nexport default AddPlacePopup;","const popupSettings = {\n  name: \"change-avatar\",\n  title: \"Обновить аватар\",\n};\nconst submitButtonSettings = {\n  defaultText: \"Сохранить\",\n  loadingText: \"Сохранение...\",\n  className: \"form__submit-button\",\n};\nconst avatarInputSettings = {\n  name: \"avatar\",\n  type: \"url\",\n  defaultValue: \"\",\n  placeholder: \"Ссылка на картинку\",\n  required: true,\n};\n\nexport { popupSettings, submitButtonSettings, avatarInputSettings };\n","import React from \"react\";\nimport Field from \"../Field\";\nimport PopupWithForm from \"../PopupWithForm\";\nimport SubmitButton from \"../SubmitButton\";\nimport {\n  popupSettings,\n  submitButtonSettings,\n  avatarInputSettings,\n} from \"./constants\";\n\nfunction EditAvatarPopup({ onClose, isOpen, onUpdateAvatar }) {\n  // ref используется внутри Field\n  // states\n  const [avatarInput, setAvatarInput] = React.useState({\n    value: \"\",\n    isValid: false,\n  });\n  const [isValid, setValid] = React.useState(false);\n  const [submitButtonText, setSubmitButtonText] = React.useState(\n    submitButtonSettings.defaultText\n  );\n\n  // effects\n  React.useEffect(() => {\n    setValid(avatarInput.isValid);\n  }, [avatarInput]);\n\n  // handlers\n  const handleSubmit = (evt) => {\n    evt.preventDefault();\n    if (isValid) {\n      setSubmitButtonText(submitButtonSettings.loadingText);\n      onUpdateAvatar({ avatar: avatarInput.value }).finally(() => {\n        setSubmitButtonText(submitButtonSettings.defaultText);\n      });\n    }\n  };\n\n  return (\n    <PopupWithForm\n      onClose={onClose}\n      isOpen={isOpen}\n      onSubmit={handleSubmit}\n      {...popupSettings}\n      submitButton={\n        <SubmitButton\n          {...submitButtonSettings}\n          isEnabled={isValid}\n          text={submitButtonText}\n        />\n      }\n    >\n      <fieldset className=\"fieldset form__change-avatar-fieldset\">\n        <div className=\"field fieldset__field\">\n          <Field\n            {...avatarInputSettings}\n            onInput={setAvatarInput}\n            isVisible={isOpen}\n          />\n        </div>\n      </fieldset>\n    </PopupWithForm>\n  );\n}\n\nexport default EditAvatarPopup;\n","import EditAvatarPopup from \"./EditAvatarPopup\";\nexport default EditAvatarPopup;","function LoadingSpinner() {\n  return <div className=\"loading-spinner\"></div>;\n}\nexport default LoadingSpinner;","const popupSettings = {\n  name: \"confirm\",\n  title: \"Вы уверены?\"\n}\nconst submitButtonSettings = {\n  className: \"form__submit-button\",\n  defaultText: \"Да\",\n  loadingText: \"Удаление...\",\n};\n\n\nexport { popupSettings, submitButtonSettings };\n","import React from \"react\";\nimport PopupWithForm from \"../PopupWithForm\";\nimport SubmitButton from \"../SubmitButton\";\nimport { popupSettings, submitButtonSettings } from \"./constants\";\n\nfunction ConfirmPopup({ onClose, isOpen, onCardDelete, card }) {\n  // states\n  const [submitButtonText, setSubmitButtonText] = React.useState(\n    submitButtonSettings.defaultText\n  );\n\n  // handlers\n  const handleSubmit = (evt) => {\n    evt.preventDefault();\n    setSubmitButtonText(submitButtonSettings.loadingText);\n    onCardDelete(card).finally(() => {\n      setSubmitButtonText(submitButtonSettings.defaultText);\n    });\n  };\n  return (\n    <PopupWithForm\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n      {...popupSettings}\n      submitButton={\n        <SubmitButton {...submitButtonSettings} text={submitButtonText} />\n      }\n    />\n  );\n}\n\nexport default ConfirmPopup;\n","import ConfirmPopup from \"./ConfirmPopup\";\nexport default ConfirmPopup;","import React from \"react\";\nimport api from \"../utils/api\";\nimport Footer from \"./Footer\";\nimport Header from \"./Header\";\nimport ImagePopup from \"./ImagePopup\";\nimport Main from \"./Main\";\nimport MessagePopup from \"./MessagePopup\";\nimport EditProfilePopup from \"./EditProfilePopup/\";\nimport AddPlacePopup from \"./AddPlacePopup/\";\nimport EditAvatarPopup from \"./EditAvatarPopup/\";\nimport CurrentUserContext from \"../contexts/CurrentUserContext\";\nimport LoadingSpinner from \"./LoadingSpinner\";\nimport ConfirmPopup from \"./ConfirmPopup/\";\n\nfunction App() {\n  // states\n  const [isAppLoading, setIsAppLoading] = React.useState(true);\n  const [isEditProfilePopupOpen, setEditProfilePopupOpen] = React.useState(\n    false\n  );\n  const [isAddPlacePopupOpen, setAddPlacePopupOpen] = React.useState(false);\n  const [isEditAvatarPopupOpen, setEditAvatarPopupOpen] = React.useState(false);\n  const [isConfirmPopupOpen, setConfirmPopupOpen] = React.useState(false);\n  const [isMessagePopupOpen, setMessagePopupOpen] = React.useState(false);\n  const [isImagePopupOpen, setImagePopupOpen] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState();\n  const [popupMessage, setPopupMessage] = React.useState();\n  const [currentUser, setCurrentUser] = React.useState({\n    name: \"\",\n    about: \"\",\n    avatar: \"\",\n    _id: \"\",\n  });\n  const [cards, setCards] = React.useState([]);\n  const [\n    cardCandidateForDeletion,\n    setCardCandidateForDeletion,\n  ] = React.useState();\n\n  // effects\n  React.useEffect(() => {\n    handleApiError(\n      Promise.all([api.getUserInfo(), api.getInitialCards()]),\n      (result) => {\n        const [userInfo, initialCards] = result;\n        setCurrentUser(userInfo);\n        setCards(initialCards);\n        setIsAppLoading(false);\n      }\n    );\n  }, []);\n\n  // handlers\n  const handleApiError = (promise, callback) => {\n    return promise\n      .then((data) => callback(data))\n      .catch((error) => {\n        if (error instanceof TypeError) {\n          setPopupMessage(\n            \"Потеряно соединение с сервером, повторите попытку позднее\"\n          );\n        } else if (typeof error === \"string\") {\n          setPopupMessage(error);\n        } else {\n          setPopupMessage(\"Непредвиденная ошибка, повторите попытку позднее\");\n        }\n        setMessagePopupOpen(true);\n      });\n  };\n  const handleUpdateUser = (data) => {\n    return handleApiError(api.setUserInfo(data), (userInfo) => {\n      setCurrentUser(userInfo);\n      setEditProfilePopupOpen(false);\n    });\n  };\n  const handleAddPlace = (data) => {\n    return handleApiError(api.addPlace(data), (newCard) => {\n      setCards([newCard, ...cards]);\n      setAddPlacePopupOpen(false);\n    });\n  };\n  const handleUpdateAvatar = (data) => {\n    return handleApiError(api.changeAvatar(data.avatar), ({ avatar }) => {\n      currentUser.avatar = avatar;\n      setEditAvatarPopupOpen(false);\n    });\n  };\n\n  // button-handlers\n  const handleEditAvatarClick = () => {\n    setEditAvatarPopupOpen(true);\n  };\n  const handleEditProfileClick = () => {\n    setEditProfilePopupOpen(true);\n  };\n  const handleAddPlaceClick = () => {\n    setAddPlacePopupOpen(true);\n  };\n  // ---------------------------------------------------------------\n\n  // card-handlers\n  const handleCardClick = (card) => {\n    setSelectedCard(card);\n    setImagePopupOpen(true);\n  };\n  const handleCardLike = (card) => {\n    const isLiked = card.likes.some((user) => user._id === currentUser._id);\n    handleApiError(api.changeLikeCardStatus(card._id, !isLiked), (newCard) => {\n      setCards(\n        cards.map((oldCard) => (oldCard._id === card._id ? newCard : oldCard))\n      );\n    });\n  };\n  const handleCardDeleteClick = (card) => {\n    setCardCandidateForDeletion(card);\n    setConfirmPopupOpen(true);\n  };\n  const handleCardDelete = (card) => {\n    return handleApiError(api.deleteCard(card._id), () => {\n      setCards(cards.filter((oldCard) => oldCard._id !== card._id));\n      setConfirmPopupOpen(false);\n    });\n  };\n  // ---------------------------------------------------------------\n\n  // functions\n  const closeMessagePopup = () => {\n    setMessagePopupOpen(false);\n  };\n\n  const closeAllPopups = () => {\n    setEditAvatarPopupOpen(false);\n    setEditProfilePopupOpen(false);\n    setAddPlacePopupOpen(false);\n    setConfirmPopupOpen(false);\n    setImagePopupOpen(false);\n  };\n\n  return (\n    <div className=\"page\">\n      <CurrentUserContext.Provider value={currentUser}>\n        <Header />\n        {isAppLoading ? (\n          <LoadingSpinner />\n        ) : (\n          <>\n            <Main\n              cards={cards}\n              onEditProfile={handleEditProfileClick}\n              onAddPlace={handleAddPlaceClick}\n              onEditAvatar={handleEditAvatarClick}\n              onCardClick={handleCardClick}\n              onCardLike={handleCardLike}\n              onCardDelete={handleCardDeleteClick}\n            />\n            <EditProfilePopup\n              isOpen={isEditProfilePopupOpen}\n              onClose={closeAllPopups}\n              onUpdateUser={handleUpdateUser}\n            />\n            <AddPlacePopup\n              isOpen={isAddPlacePopupOpen}\n              onClose={closeAllPopups}\n              onAddPlace={handleAddPlace}\n            />\n            <EditAvatarPopup\n              isOpen={isEditAvatarPopupOpen}\n              onClose={closeAllPopups}\n              onUpdateAvatar={handleUpdateAvatar}\n            />\n            <ImagePopup\n              {...selectedCard}\n              isOpen={isImagePopupOpen}\n              onClose={closeAllPopups}\n            />\n            <MessagePopup\n              isOpen={isMessagePopupOpen}\n              onClose={closeMessagePopup}\n              message={popupMessage}\n            />\n            <ConfirmPopup\n              card={cardCandidateForDeletion}\n              onCardDelete={handleCardDelete}\n              isOpen={isConfirmPopupOpen}\n              onClose={closeAllPopups}\n            />\n          </>\n        )}\n\n        <Footer />\n      </CurrentUserContext.Provider>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./components/App\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}