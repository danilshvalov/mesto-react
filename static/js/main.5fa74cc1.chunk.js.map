{"version":3,"sources":["utils/api.js","components/Footer.js","images/header-logo.svg","components/Header.js","components/ImagePopup.js","images/avatar.svg","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/MessagePopup.js","components/PopupWithForm.js","utils/constants.js","utils/utils.js","components/Field.js","components/SubmitButton.js","components/EditProfilePopup/constants.js","components/EditProfilePopup/EditProfilePopup.js","components/EditProfilePopup/index.js","components/AddPlacePopup/constants.js","components/AddPlacePopup/AddPlacePopup.js","components/AddPlacePopup/index.js","components/EditAvatarPopup/constants.js","components/EditAvatarPopup/EditAvatarPopup.js","components/EditAvatarPopup/index.js","components/LoadingSpinner.js","components/ConfirmPopup/constants.js","components/ConfirmPopup/ConfirmPopup.js","components/ConfirmPopup/index.js","components/App.js","reportWebVitals.js","index.js"],"names":["api","baseUrl","headers","errorHandler","this","_baseUrl","_headers","_errorHandler","path","method","body","errorMessage","fetch","URL","then","res","ok","json","Promise","reject","status","sendRequest","name","link","JSON","stringify","id","isLiked","setLike","removeLike","about","avatar","authorization","Footer","className","Header","src","logo","alt","ImagePopup","isOpen","onClose","type","onClick","CurrentUserContext","React","createContext","Card","card","onCardClick","onCardLike","onCardDelete","currentUser","useContext","isOwn","owner","_id","likes","some","user","cardDeleteButtonClassName","cardLikeButtonClassName","length","Main","cards","onEditAvatar","onAddPlace","onEditProfile","defaultAvatar","map","data","MessagePopup","message","PopupWithForm","title","children","onSubmit","submitButton","popupWrapperRef","useRef","popupContainerRef","closeButtonRef","escapeButtonHandler","evt","key","document","removeEventListener","useEffect","addEventListener","ref","target","current","action","noValidate","DOMProps","getOnlyDOMProps","props","Object","assign","keys","filter","prop","Field","useState","isValid","setValid","defaultValue","value","setValue","setErrorMessage","isErrorVisible","setErrorVisible","inputRef","isVisible","validity","valid","validationMessage","onInput","SubmitButton","isEnabled","undefined","text","popupSettings","submitButtonSettings","defaultText","loadingText","nameInputSettings","placeholder","minLength","maxLength","required","descriptionInputSettings","EditProfilePopup","onUpdateUser","nameInput","setNameInput","descriptionInput","setDescriptionInput","submitButtonText","setSubmitButtonText","every","preventDefault","finally","titleInputSettings","linkInputSettings","AddPlacePopup","titleInput","setTitleInput","linkInput","setLinkInput","avatarInputSettings","EditAvatarPopup","onUpdateAvatar","avatarInput","setAvatarInput","LoadingSpinner","ConfirmPopup","App","isAppLoading","setIsAppLoading","isEditProfilePopupOpen","setEditProfilePopupOpen","isAddPlacePopupOpen","setAddPlacePopupOpen","isEditAvatarPopupOpen","setEditAvatarPopupOpen","isConfirmPopupOpen","setConfirmPopupOpen","isMessagePopupOpen","setMessagePopupOpen","isImagePopupOpen","setImagePopupOpen","selectedCard","setSelectedCard","popupMessage","setPopupMessage","setCurrentUser","setCards","cardCandidateForDeletion","setCardCandidateForDeletion","handleApiError","all","getUserInfo","getInitialCards","result","userInfo","initialCards","promise","callback","catch","error","TypeError","closeAllPopups","Provider","changeLikeCardStatus","newCard","oldCard","setUserInfo","addPlace","changeAvatar","deleteCard","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"sOA4GeA,EAVH,IAlGZ,WACE,cAAiD,IAAnCC,EAAkC,EAAlCA,QAASC,EAAyB,EAAzBA,QAASC,EAAgB,EAAhBA,aAAgB,oBAC9CC,KAAKC,SAAWJ,EAChBG,KAAKE,SAAWJ,EAChBE,KAAKG,cAAgBJ,EAJzB,2DAO6D,IAA7CK,EAA4C,EAA5CA,KAA4C,IAAtCC,cAAsC,MAA7B,MAA6B,EAAtBC,EAAsB,EAAtBA,KAAMC,EAAgB,EAAhBA,aACxC,OAAOC,MAAM,IAAIC,IAAIL,EAAMJ,KAAKC,UAAW,CACzCI,OAAQA,EACRP,QAASE,KAAKE,SACdI,KAAMA,IACLI,MAAK,SAACC,GACP,OAAIA,EAAIC,GACCD,EAAIE,OAENC,QAAQC,OAAR,UAAkBR,EAAlB,sEAA+CI,EAAIK,cAhBhE,wCAqBI,OAAOhB,KAAKiB,YAAY,CACtBb,KAAM,QACNG,aAAc,iNAvBpB,kCA2B4B,IAAfW,EAAc,EAAdA,KAAMC,EAAQ,EAARA,KACf,OAAOnB,KAAKiB,YAAY,CACtBb,KAAM,QACNC,OAAQ,OACRC,KAAMc,KAAKC,UAAU,CACnBH,OACAC,SAEFZ,aAAc,mOAnCpB,iCAuCae,GACT,OAAOtB,KAAKiB,YAAY,CACtBb,KAAK,SAAD,OAAWkB,GACfjB,OAAQ,SACRE,aAAc,uNA3CpB,8BA+CUe,GACN,OAAOtB,KAAKiB,YAAY,CACtBb,KAAK,eAAD,OAAiBkB,GACrBjB,OAAQ,MACRE,aAAc,4NAnDpB,iCAuDae,GACT,OAAOtB,KAAKiB,YAAY,CACtBb,KAAK,eAAD,OAAiBkB,GACrBjB,OAAQ,SACRE,aAAc,0MA3DpB,2CA+DuBe,EAAIC,GACvB,OAAOA,EAAUvB,KAAKwB,QAAQF,GAAMtB,KAAKyB,WAAWH,KAhExD,oCAoEI,OAAOtB,KAAKiB,YAAY,CACtBb,KAAM,WACNG,aAAc,4PAtEpB,qCA0EgC,IAAhBW,EAAe,EAAfA,KAAMQ,EAAS,EAATA,MAClB,OAAO1B,KAAKiB,YAAY,CACtBb,KAAM,WACNC,OAAQ,QACRC,KAAMc,KAAKC,UAAU,CACnBH,KAAMA,EACNQ,MAAOA,IAETnB,aAAc,qPAlFpB,mCAsFeY,GACX,OAAOnB,KAAKiB,YAAY,CACtBb,KAAM,kBACNC,OAAQ,QACRC,KAAMc,KAAKC,UAAU,CACnBM,OAAQR,IAEVZ,aAAc,+NA7FpB,KAkGY,CAAQ,CAClBV,QAAS,+CACTC,QAAS,CACP8B,cAAe,uCACf,eAAgB,qCC9FLC,MARf,WACE,OACE,wBAAQC,UAAU,SAAlB,SACE,mBAAGA,UAAU,oBAAb,mDCHS,MAA0B,wCCc1BC,MAZf,WACE,OACE,wBAAQD,UAAU,SAAlB,SACE,qBACEA,UAAU,eACVE,IAAKC,EACLC,IAAI,2ECgBGC,MAxBf,YAAoD,IAA/BjB,EAA8B,EAA9BA,KAAMC,EAAwB,EAAxBA,KAAMiB,EAAkB,EAAlBA,OAAQC,EAAU,EAAVA,QACvC,OACE,qBAAKP,UAAS,iCAA4BM,GAAU,gBAApD,SACE,sBAAKN,UAAU,mBAAf,UACE,wBACEA,UAAU,+CACVQ,KAAK,SACLC,QAASF,IAEX,sBAAKP,UAAU,yBAAf,UACE,qBACEA,UAAU,iBACVE,IAAKb,EACLe,IAAKhB,IAEP,mBAAGY,UAAU,uBAAb,SACGZ,aChBE,MAA0B,mCCE1BsB,EADYC,IAAMC,gBC0DlBC,MAxDf,YAAgE,IAAhDC,EAA+C,EAA/CA,KAAMC,EAAyC,EAAzCA,YAAaC,EAA4B,EAA5BA,WAAYC,EAAgB,EAAhBA,aACvCC,EAAcP,IAAMQ,WAAWT,GAG/BU,EAAQN,EAAKO,MAAMC,MAAQJ,EAAYI,IACvC7B,EAAUqB,EAAKS,MAAMC,MAAK,SAACC,GAAD,OAAUA,EAAKH,MAAQJ,EAAYI,OAG7DI,EAAyB,2DAC7BN,EAAQ,iBAAmB,iBAEvBO,EAAuB,uDAC3BlC,EAAU,qBAAuB,IAgBnC,OACE,0BAASO,UAAU,UAAnB,UACE,qBACEA,UAAU,iBACVE,IAAKY,EAAKzB,KACVe,IAAKU,EAAK1B,KACVqB,QAlBc,WAClBM,EAAYD,MAmBV,sBAAKd,UAAU,mBAAf,UACE,oBAAIA,UAAU,iBAAd,SAAgCc,EAAK1B,OACrC,sBAAKY,UAAU,0BAAf,UACE,wBACEA,UAAW2B,EACXlB,QArBS,WACjBO,EAAWF,IAqBHN,KAAK,WAEP,sBAAMR,UAAU,sBAAhB,SAAuCc,EAAKS,MAAMK,YAEpD,wBACE5B,UAAW0B,EACXjB,QAxBa,WACnBQ,EAAaH,IAwBPN,KAAK,kBCcAqB,MA7Df,YAQI,IAPFC,EAOC,EAPDA,MACAC,EAMC,EANDA,aACAC,EAKC,EALDA,WACAjB,EAIC,EAJDA,YACAC,EAGC,EAHDA,WACAC,EAEC,EAFDA,aACAgB,EACC,EADDA,cAGMf,EAAcP,IAAMQ,WAAWT,GAErC,OACE,uBAAMV,UAAU,UAAhB,UACE,0BAASA,UAAU,UAAnB,UACE,sBAAKA,UAAU,2BAAf,UACE,qBACEA,UAAU,kBACVE,IAAKgB,EAAYrB,QAAUqC,EAC3B9B,IAAI,kHAEN,wBACEJ,UAAU,qCACVS,QAASsB,OAGb,sBAAK/B,UAAU,gBAAf,UACE,sBAAKA,UAAU,0BAAf,UACE,oBAAIA,UAAU,gBAAd,SAA+BkB,EAAY9B,OAC3C,wBACEY,UAAU,+CACVS,QAASwB,EACTzB,KAAK,cAGT,mBAAGR,UAAU,iBAAb,SAA+BkB,EAAYtB,WAE7C,wBACEI,UAAU,6CACVS,QAASuB,EACTxB,KAAK,cAIT,yBAASR,UAAU,WAAnB,SACG8B,EAAMK,KAAI,SAACC,GACV,OACE,cAAC,EAAD,CACEtB,KAAMsB,EAENpB,WAAYA,EACZD,YAAaA,EACbE,aAAcA,GAHTmB,EAAKd,cCrCTe,MAjBf,YAAmD,IAA5BC,EAA2B,EAA3BA,QAAShC,EAAkB,EAAlBA,OAAQC,EAAU,EAAVA,QACtC,OACE,qBAAKP,UAAS,mCAA8BM,GAAU,gBAAtD,SACE,sBAAKN,UAAU,mBAAf,UACE,qBAAKA,UAAU,iCAAf,SACE,sBAAMA,UAAU,oBAAhB,SAAqCsC,MAEvC,wBACEtC,UAAU,kHACVQ,KAAK,SACLC,QAASF,UC6DJgC,MArEf,YAQI,IAPFnD,EAOC,EAPDA,KACAoD,EAMC,EANDA,MACAC,EAKC,EALDA,SACAlC,EAIC,EAJDA,QACAD,EAGC,EAHDA,OACAoC,EAEC,EAFDA,SACAC,EACC,EADDA,aAMMC,EAAkBjC,IAAMkC,SACxBC,EAAoBnC,IAAMkC,SAC1BE,EAAiBpC,IAAMkC,SAGvBG,EAAsB,SAAtBA,EAAuBC,GARP,WAShBA,EAAIC,MACN3C,IACA4C,SAASC,oBAAoB,UAAWJ,KAmB5C,OALArC,IAAM0C,WAAU,WACV/C,GACF6C,SAASG,iBAAiB,UAAWN,KAEtC,CAAC1C,IAEF,qBACEN,UAAS,2BAAsBZ,EAAtB,YAA8BkB,GAAU,gBACjDiD,IAAKX,EACLnC,QApBgB,SAACwC,GAEjBA,EAAIO,SAAWZ,EAAgBa,SAC/BR,EAAIO,SAAWT,EAAeU,SAC9BR,EAAIO,SAAWV,EAAkBW,SAEjClD,KAWF,SAKE,sBAAKP,UAAU,mBAAmBuD,IAAKT,EAAvC,UACE,uBACE9C,UAAS,sBAAiBZ,EAAjB,SACTb,OAAO,OACPmF,OAAO,IACPtE,KAAMA,EACNuE,YAAU,EACVjB,SAAUA,EANZ,UAQE,oBAAI1C,UAAU,cAAd,SAA6BwC,IAC5BC,EACAE,KAEH,wBACE3C,UAAU,+CACVQ,KAAK,SACL+C,IAAKR,U,OC4GAa,EA5KE,CACf,OACA,SACA,gBACA,YACA,SACA,kBACA,oBACA,MACA,QACA,eACA,YACA,WACA,cACA,cACA,YACA,UACA,UACA,OACA,QACA,YACA,OACA,UACA,UACA,UACA,kBACA,cACA,WACA,SACA,cACA,OACA,WACA,UACA,QACA,MACA,WACA,WACA,YACA,WACA,UACA,MACA,OACA,aACA,cACA,aACA,iBACA,aACA,cACA,UACA,SACA,SACA,OACA,OACA,WACA,UACA,YACA,OACA,KACA,YACA,QACA,SACA,WACA,UACA,YACA,WACA,OACA,QACA,OACA,OACA,OACA,WACA,MACA,YACA,QACA,aACA,SACA,MACA,YACA,WACA,QACA,OACA,aACA,OACA,UACA,UACA,OACA,cACA,SACA,UACA,aACA,WACA,MACA,WACA,OACA,OACA,UACA,UACA,QACA,SACA,YACA,WACA,WACA,QACA,OACA,QACA,WACA,OACA,aACA,MACA,SACA,SACA,QACA,OACA,QACA,WACA,SACA,QACA,YACA,OACA,gBACA,SACA,QACA,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","file":"static/js/main.5fa74cc1.chunk.js","sourcesContent":["export class Api {\n  constructor({ baseUrl, headers, errorHandler }) {\n    this._baseUrl = baseUrl;\n    this._headers = headers;\n    this._errorHandler = errorHandler;\n  }\n\n  sendRequest({ path, method = \"GET\", body, errorMessage }) {\n    return fetch(new URL(path, this._baseUrl), {\n      method: method,\n      headers: this._headers,\n      body: body,\n    }).then((res) => {\n      if (res.ok) {\n        return res.json();\n      }\n      return Promise.reject(`${errorMessage}. Код ошибки: ${res.status}`);\n    });\n  }\n\n  getInitialCards() {\n    return this.sendRequest({\n      path: \"cards\",\n      errorMessage: \"При запросе карточек произошла ошибка\",\n    });\n  }\n\n  addPlace({ name, link }) {\n    return this.sendRequest({\n      path: \"cards\",\n      method: \"POST\",\n      body: JSON.stringify({\n        name,\n        link,\n      }),\n      errorMessage: \"При добавлении карточки произошла ошибка\",\n    });\n  }\n\n  deleteCard(id) {\n    return this.sendRequest({\n      path: `cards/${id}`,\n      method: \"DELETE\",\n      errorMessage: \"При удалении карточки произошла ошибка\",\n    });\n  }\n\n  setLike(id) {\n    return this.sendRequest({\n      path: `cards/likes/${id}`,\n      method: \"PUT\",\n      errorMessage: \"При попытке поставить like произошла ошибка\",\n    });\n  }\n\n  removeLike(id) {\n    return this.sendRequest({\n      path: `cards/likes/${id}`,\n      method: \"DELETE\",\n      errorMessage: \"При попытке убрать like произошла ошибка\",\n    });\n  }\n\n  changeLikeCardStatus(id, isLiked) {\n    return isLiked ? this.setLike(id) : this.removeLike(id);\n  }\n\n  getUserInfo() {\n    return this.sendRequest({\n      path: \"users/me\",\n      errorMessage: \"При получении данных профиля произошла ошибка\",\n    });\n  }\n\n  setUserInfo({ name, about }) {\n    return this.sendRequest({\n      path: \"users/me\",\n      method: \"PATCH\",\n      body: JSON.stringify({\n        name: name,\n        about: about,\n      }),\n      errorMessage: \"При редактировании профиля произошла ошибка\",\n    });\n  }\n\n  changeAvatar(link) {\n    return this.sendRequest({\n      path: \"users/me/avatar\",\n      method: \"PATCH\",\n      body: JSON.stringify({\n        avatar: link,\n      }),\n      errorMessage: \"При обновлении аватара произошла ошибка\",\n    });\n  }\n}\n\nconst api = new Api({\n  baseUrl: \"https://mesto.nomoreparties.co/v1/cohort-19/\",\n  headers: {\n    authorization: \"68d238d8-54dd-4a8c-9a47-e308386a3ea7\",\n    \"Content-Type\": \"application/json; charset=utf-8\",\n  },\n  // TODO разобраться с ErrorHandler\n  // errorHandler: errorHandler,\n});\n\nexport default api;\n","function Footer() {\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__copyright\">© 2020 — 2021 Mesto Russia</p>\n    </footer>\n  );\n}\n\nexport default Footer;\n","export default __webpack_public_path__ + \"static/media/header-logo.c2821b38.svg\";","import logo from \"../images/header-logo.svg\";\n\nfunction Header() {\n  return (\n    <header className=\"header\">\n      <img\n        className=\"header__logo\"\n        src={logo}\n        alt=\"Места России\"\n      />\n    </header>\n  );\n}\n\nexport default Header;\n","function ImagePopup({name, link, isOpen, onClose}) {\n  return (\n    <div className={`popup popup_type_image ${isOpen && \"popup_opened\"}`}>\n      <div className=\"popup__container\">\n        <button\n          className=\"button button_type_close popup__close-button\"\n          type=\"button\"\n          onClick={onClose}\n        ></button>\n        <div className=\"popup__picture picture\">\n          <img\n            className=\"picture__image\"\n            src={link}\n            alt={name}\n          />\n          <p className=\"picture__description\">\n            {name}\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default ImagePopup;\n","export default __webpack_public_path__ + \"static/media/avatar.c2fc30b5.svg\";","import React from \"react\";\nconst CurrentUserContext = React.createContext();\nexport default CurrentUserContext;\n","import React from \"react\";\nimport CurrentUserContext from \"../contexts/CurrentUserContext\";\n\nfunction Card({ card, onCardClick, onCardLike, onCardDelete }) {\n  const currentUser = React.useContext(CurrentUserContext);\n\n  // bool variables\n  const isOwn = card.owner._id === currentUser._id;\n  const isLiked = card.likes.some((user) => user._id === currentUser._id);\n\n  // className variables\n  const cardDeleteButtonClassName = `button button_type_delete element__delete-button ${\n    isOwn ? \"button_visible\" : \"button_hidden\"\n  }`;\n  const cardLikeButtonClassName = `button button_type_like element__like-button ${\n    isLiked ? \"button_like-active\" : \"\"\n  }`;\n\n  // functions\n  const handleClick = () => {\n    onCardClick(card);\n  };\n\n  const handleLike = () => {\n    onCardLike(card);\n  };\n\n  const handleDelete = () => {\n    onCardDelete(card);\n  };\n\n  return (\n    <article className=\"element\">\n      <img\n        className=\"element__image\"\n        src={card.link}\n        alt={card.name}\n        onClick={handleClick}\n      />\n      <div className=\"element__sidebar\">\n        <h3 className=\"element__title\">{card.name}</h3>\n        <div className=\"element__like-container\">\n          <button\n            className={cardLikeButtonClassName}\n            onClick={handleLike}\n            type=\"button\"\n          ></button>\n          <span className=\"element__like-count\">{card.likes.length}</span>\n        </div>\n        <button\n          className={cardDeleteButtonClassName}\n          onClick={handleDelete}\n          type=\"button\"\n        ></button>\n      </div>\n    </article>\n  );\n}\n\nexport default Card;\n","import React from \"react\";\nimport defaultAvatar from \"../images/avatar.svg\";\nimport Card from \"./Card\";\nimport CurrentUserContext from \"../contexts/CurrentUserContext\";\n\nfunction Main({\n  cards,\n  onEditAvatar,\n  onAddPlace,\n  onCardClick,\n  onCardLike,\n  onCardDelete,\n  onEditProfile,\n}) {\n  // contexts\n  const currentUser = React.useContext(CurrentUserContext);\n\n  return (\n    <main className=\"content\">\n      <section className=\"profile\">\n        <div className=\"profile__image-container\">\n          <img\n            className=\"profile__avatar\"\n            src={currentUser.avatar || defaultAvatar}\n            alt=\"Аватар пользователя\"\n          />\n          <button\n            className=\"button profile__edit-avatar-button\"\n            onClick={onEditAvatar}\n          ></button>\n        </div>\n        <div className=\"profile__text\">\n          <div className=\"profile__name-container\">\n            <h1 className=\"profile__name\">{currentUser.name}</h1>\n            <button\n              className=\"button button_type_edit profile__edit-button\"\n              onClick={onEditProfile}\n              type=\"button\"\n            ></button>\n          </div>\n          <p className=\"profile__about\">{currentUser.about}</p>\n        </div>\n        <button\n          className=\"button button_type_add profile__add-button\"\n          onClick={onAddPlace}\n          type=\"button\"\n        ></button>\n      </section>\n\n      <section className=\"elements\">\n        {cards.map((data) => {\n          return (\n            <Card\n              card={data}\n              key={data._id}\n              onCardLike={onCardLike}\n              onCardClick={onCardClick}\n              onCardDelete={onCardDelete}\n            />\n          );\n        })}\n      </section>\n    </main>\n  );\n}\n\nexport default Main;\n","function MessagePopup({message, isOpen, onClose}) {\n  return (\n    <div className={`popup popup_type_message ${isOpen && \"popup_opened\"}`}>\n      <div className=\"popup__container\">\n        <div className=\"popup__message-box message-box\">\n          <span className=\"message-box__text\">{message}</span>\n        </div>\n        <button\n          className=\"popup__close-button popup__close-button_indent button button_type_close button_small-size button_inverted-color\"\n          type=\"button\"\n          onClick={onClose}\n        ></button>\n      </div>\n    </div>\n  );\n}\n\nexport default MessagePopup;\n","import React from \"react\";\n\nfunction PopupWithForm({\n  name,\n  title,\n  children,\n  onClose,\n  isOpen,\n  onSubmit,\n  submitButton,\n}) {\n  // constants\n  const escapeKeyCode = \"Escape\";\n\n  // refs\n  const popupWrapperRef = React.useRef();\n  const popupContainerRef = React.useRef();\n  const closeButtonRef = React.useRef();\n\n  // handlers\n  const escapeButtonHandler = (evt) => {\n    if (evt.key === escapeKeyCode) {\n      onClose();\n      document.removeEventListener(\"keydown\", escapeButtonHandler);\n    }\n  };\n  const handleClose = (evt) => {\n    if (\n      evt.target === popupWrapperRef.current ||\n      evt.target === closeButtonRef.current ||\n      evt.target === popupContainerRef.current\n    ) {\n      onClose();\n    }\n  };\n\n  // effects\n  React.useEffect(() => {\n    if (isOpen) {\n      document.addEventListener(\"keydown\", escapeButtonHandler);\n    }\n  }, [isOpen]);\n  return (\n    <div\n      className={`popup popup_type_${name} ${isOpen && \"popup_opened\"}`}\n      ref={popupWrapperRef}\n      onClick={handleClose}\n    >\n      <div className=\"popup__container\" ref={popupContainerRef}>\n        <form\n          className={`form popup__${name}-form`}\n          method=\"POST\"\n          action=\"/\"\n          name={name}\n          noValidate\n          onSubmit={onSubmit}\n        >\n          <h2 className=\"form__title\">{title}</h2>\n          {children}\n          {submitButton}\n        </form>\n        <button\n          className=\"button button_type_close popup__close-button\"\n          type=\"button\"\n          ref={closeButtonRef}\n        ></button>\n      </div>\n    </div>\n  );\n}\n\nexport default PopupWithForm;\n","const DOMProps = [\n  \"abbr\",\n  \"accept\",\n  \"acceptCharset\",\n  \"accessKey\",\n  \"action\",\n  \"allowFullScreen\",\n  \"allowTransparency\",\n  \"alt\",\n  \"async\",\n  \"autoComplete\",\n  \"autoFocus\",\n  \"autoPlay\",\n  \"cellPadding\",\n  \"cellSpacing\",\n  \"challenge\",\n  \"charset\",\n  \"checked\",\n  \"cite\",\n  \"class\",\n  \"className\",\n  \"cols\",\n  \"colSpan\",\n  \"command\",\n  \"content\",\n  \"contentEditable\",\n  \"contextMenu\",\n  \"controls\",\n  \"coords\",\n  \"crossOrigin\",\n  \"data\",\n  \"dateTime\",\n  \"default\",\n  \"defer\",\n  \"dir\",\n  \"disabled\",\n  \"download\",\n  \"draggable\",\n  \"dropzone\",\n  \"encType\",\n  \"for\",\n  \"form\",\n  \"formAction\",\n  \"formEncType\",\n  \"formMethod\",\n  \"formNoValidate\",\n  \"formTarget\",\n  \"frameBorder\",\n  \"headers\",\n  \"height\",\n  \"hidden\",\n  \"high\",\n  \"href\",\n  \"hrefLang\",\n  \"htmlFor\",\n  \"httpEquiv\",\n  \"icon\",\n  \"id\",\n  \"inputMode\",\n  \"isMap\",\n  \"itemId\",\n  \"itemProp\",\n  \"itemRef\",\n  \"itemScope\",\n  \"itemType\",\n  \"kind\",\n  \"label\",\n  \"lang\",\n  \"list\",\n  \"loop\",\n  \"manifest\",\n  \"max\",\n  \"maxLength\",\n  \"media\",\n  \"mediaGroup\",\n  \"method\",\n  \"min\",\n  \"minLength\",\n  \"multiple\",\n  \"muted\",\n  \"name\",\n  \"noValidate\",\n  \"open\",\n  \"optimum\",\n  \"pattern\",\n  \"ping\",\n  \"placeholder\",\n  \"poster\",\n  \"preload\",\n  \"radioGroup\",\n  \"readOnly\",\n  \"rel\",\n  \"required\",\n  \"role\",\n  \"rows\",\n  \"rowSpan\",\n  \"sandbox\",\n  \"scope\",\n  \"scoped\",\n  \"scrolling\",\n  \"seamless\",\n  \"selected\",\n  \"shape\",\n  \"size\",\n  \"sizes\",\n  \"sortable\",\n  \"span\",\n  \"spellCheck\",\n  \"src\",\n  \"srcDoc\",\n  \"srcSet\",\n  \"start\",\n  \"step\",\n  \"style\",\n  \"tabIndex\",\n  \"target\",\n  \"title\",\n  \"translate\",\n  \"type\",\n  \"typeMustMatch\",\n  \"useMap\",\n  \"value\",\n  \"width\",\n  \"wmode\",\n  \"wrap\",\n  \"onCopy\",\n  \"onCut\",\n  \"onPaste\",\n  \"onLoad\",\n  \"onError\",\n  \"onWheel\",\n  \"onScroll\",\n  \"onCompositionEnd\",\n  \"onCompositionStart\",\n  \"onCompositionUpdate\",\n  \"onKeyDown\",\n  \"onKeyPress\",\n  \"onKeyUp\",\n  \"onFocus\",\n  \"onBlur\",\n  \"onChange\",\n  \"onInput\",\n  \"onSubmit\",\n  \"onClick\",\n  \"onContextMenu\",\n  \"onDoubleClick\",\n  \"onDrag\",\n  \"onDragEnd\",\n  \"onDragEnter\",\n  \"onDragExit\",\n  \"onDragLeave\",\n  \"onDragOver\",\n  \"onDragStart\",\n  \"onDrop\",\n  \"onMouseDown\",\n  \"onMouseEnter\",\n  \"onMouseLeave\",\n  \"onMouseMove\",\n  \"onMouseOut\",\n  \"onMouseOver\",\n  \"onMouseUp\",\n  \"onSelect\",\n  \"onTouchCancel\",\n  \"onTouchEnd\",\n  \"onTouchMove\",\n  \"onTouchStart\",\n  \"onAnimationStart\",\n  \"onAnimationEnd\",\n  \"onAnimationIteration\",\n  \"onTransitionEnd\",\n];\n\nexport default DOMProps;\n","import DOMProps from \"./constants\";\n\nconst getOnlyDOMProps = (props) => {\n  return Object.assign(\n    ...Object.keys(props)\n      .filter((key) => DOMProps.some((prop) => prop === key))\n      .map((key) => ({ [key]: props[key] }))\n  );\n};\n\nexport default getOnlyDOMProps;\n","import React from \"react\";\nimport getOnlyDOMProps from \"../utils/utils\";\n\nconst Field = (props) => {\n  const [isValid, setValid] = React.useState(false);\n  const [value, setValue] = React.useState(props.defaultValue);\n  const [errorMessage, setErrorMessage] = React.useState(\"\");\n  const [isErrorVisible, setErrorVisible] = React.useState(false);\n\n  const inputRef = React.useRef();\n\n  React.useEffect(() => {\n    if (props.isVisible) {\n      inputRef.current.value = props.defaultValue;\n      setValue(inputRef.current.value);\n      setValid(inputRef.current.validity.valid);\n      setErrorMessage(inputRef.current.validationMessage);\n      setErrorVisible(false);\n    }\n  }, [props.isVisible]);\n\n  React.useEffect(() => {\n    props.onInput({ value, isValid });\n  }, [value, isValid]);\n\n  const handleInput = (evt) => {\n    const target = evt.target;\n    setValue(target.value);\n    setValid(target.validity.valid);\n    setErrorVisible(!target.validity.valid);\n    setErrorMessage(target.validationMessage);\n  };\n\n  return (\n    <div className=\"field fieldset__field\">\n      <input\n        {...getOnlyDOMProps(props)}\n        className={`field__input ${isErrorVisible ? \"field__input_error\" : \"\"}`}\n        id={`${props.name}-input`}\n        name={`${props.name}Input`}\n        onInput={handleInput}\n        defaultValue={value}\n        ref={inputRef}\n      />\n      <span\n        className={`field__error-message ${\n          isErrorVisible ? \"field__error-message_visible\" : \"\"\n        }`}\n        id={`${props.name}-input-error`}\n      >\n        {errorMessage}\n      </span>\n    </div>\n  );\n};\n\nexport default Field;\n","import React from \"react\";\nimport getOnlyDOMProps from \"../utils/utils\";\n\nfunction SubmitButton(props) {\n  // проверка на undefined необходима для включения кнопки, если клиент не определил ее поведение\n  return (\n    <button\n      {...getOnlyDOMProps(props)}\n      className={`button button_type_submit ${props.className} ${\n        props.isEnabled || props.isEnabled === undefined\n          ? \"\"\n          : \"button_type_submit-disabled\"\n      }`}\n      type=\"submit\"\n    >\n      {props.text}\n    </button>\n  );\n}\n\nexport default SubmitButton;\n","const popupSettings = {\n  name: \"edit-profile\",\n  title: \"Редактировать профиль\",\n};\nconst submitButtonSettings = {\n  defaultText: \"Сохранить\",\n  loadingText: \"Сохранение...\",\n  className: \"form__submit-button\",\n};\nconst nameInputSettings = {\n  name: \"name\",\n  type: \"text\",\n  placeholder: \"Имя\",\n  minLength: \"2\",\n  maxLength: \"40\",\n  required: true,\n};\nconst descriptionInputSettings = {\n  name: \"job\",\n  type: \"text\",\n  placeholder: \"Деятельность\",\n  required: true,\n  minLength: \"2\",\n  maxLength: \"200\",\n};\n\nexport {\n  popupSettings,\n  submitButtonSettings,\n  nameInputSettings,\n  descriptionInputSettings,\n};\n","import React from \"react\";\nimport PopupWithForm from \"../PopupWithForm\";\nimport CurrentUserContext from \"../../contexts/CurrentUserContext\";\nimport Field from \"../Field\";\nimport SubmitButton from \"../SubmitButton\";\nimport {\n  popupSettings,\n  submitButtonSettings,\n  nameInputSettings,\n  descriptionInputSettings,\n} from \"./constants\";\n\nfunction EditProfilePopup({ onClose, isOpen, onUpdateUser }) {\n  // contexts\n  const currentUser = React.useContext(CurrentUserContext);\n\n  // states\n  const [nameInput, setNameInput] = React.useState({\n    value: currentUser.name,\n    isValid: false,\n  });\n  const [descriptionInput, setDescriptionInput] = React.useState({\n    value: currentUser.value,\n    isValid: false,\n  });\n  const [isValid, setValid] = React.useState(false);\n  const [submitButtonText, setSubmitButtonText] = React.useState(\n    submitButtonSettings.defaultText\n  );\n\n  React.useEffect(() => {\n    const inputs = [nameInput, descriptionInput];\n    setValid(inputs.every(({ isValid }) => isValid));\n  }, [nameInput, descriptionInput]);\n\n  // handlers\n  const handleSubmit = (evt) => {\n    evt.preventDefault();\n    if (isValid) {\n      setSubmitButtonText(submitButtonSettings.loadingText);\n      onUpdateUser({\n        name: nameInput.value,\n        about: descriptionInput.value,\n      }).finally(() => {\n        setSubmitButtonText(submitButtonSettings.defaultText);\n      });\n    }\n  };\n\n  return (\n    <PopupWithForm\n      onClose={onClose}\n      isOpen={isOpen}\n      onSubmit={handleSubmit}\n      {...popupSettings}\n      submitButton={\n        <SubmitButton\n          {...submitButtonSettings}\n          isEnabled={isValid}\n          text={submitButtonText}\n        />\n      }\n    >\n      <fieldset className=\"fieldset form__edit-profile-fieldset\">\n        <div className=\"field fieldset__field\">\n          <Field\n            {...nameInputSettings}\n            onInput={setNameInput}\n            isVisible={isOpen}\n            defaultValue={currentUser.name}\n          />\n        </div>\n        <div className=\"field fieldset__field\">\n          <Field\n            {...descriptionInputSettings}\n            onInput={setDescriptionInput}\n            isVisible={isOpen}\n            defaultValue={currentUser.about}\n          />\n        </div>\n      </fieldset>\n    </PopupWithForm>\n  );\n}\n\nexport default EditProfilePopup;\n","import EditProfilePopup from \"./EditProfilePopup\";\nexport default EditProfilePopup;","const popupSettings = {\n  name: \"add-element\",\n  title: \"Новое место\",\n};\nconst submitButtonSettings = {\n  defaultText: \"Добавить\",\n  loadingText: \"Добавляем...\",\n  className: \"form__submit-button\",\n};\nconst titleInputSettings = {\n  name: \"title\",\n  type: \"text\",\n  defaultValue: \"\",\n  placeholder: \"Название\",\n  minLength: \"1\",\n  maxLength: \"30\",\n  required: true,\n};\nconst linkInputSettings = {\n  name: \"link\",\n  type: \"url\",\n  defaultValue: \"\",\n  placeholder: \"Ссылка на картинку\",\n  required: true,\n};\n\nexport {\n  popupSettings,\n  submitButtonSettings,\n  titleInputSettings,\n  linkInputSettings,\n};\n","import React from \"react\";\nimport Field from \"../Field\";\nimport PopupWithForm from \"../PopupWithForm\";\nimport SubmitButton from \"../SubmitButton\";\nimport {\n  popupSettings,\n  submitButtonSettings,\n  titleInputSettings,\n  linkInputSettings,\n} from \"./constants\";\n\nfunction AddPlacePopup({ onClose, isOpen, onAddPlace }) {\n  // states\n  const [titleInput, setTitleInput] = React.useState({\n    value: \"\",\n    isValid: false,\n  });\n  const [linkInput, setLinkInput] = React.useState({\n    value: \"\",\n    isValid: false,\n  });\n  const [isValid, setValid] = React.useState(false);\n  const [submitButtonText, setSubmitButtonText] = React.useState(\n    submitButtonSettings.defaultText\n  );\n\n  // effects\n  React.useEffect(() => {\n    const inputs = [titleInput, linkInput];\n    setValid(inputs.every(({ isValid }) => isValid));\n  }, [titleInput, linkInput]);\n\n  // handlers\n  const handleSubmit = (evt) => {\n    evt.preventDefault();\n    if (isValid) {\n      setSubmitButtonText(submitButtonSettings.loadingText);\n      onAddPlace({ name: titleInput.value, link: linkInput.value }).finally(\n        () => {\n          setSubmitButtonText(submitButtonSettings.defaultText);\n        }\n      );\n    }\n  };\n\n  return (\n    <PopupWithForm\n      onClose={onClose}\n      isOpen={isOpen}\n      onSubmit={handleSubmit}\n      {...popupSettings}\n      submitButton={\n        <SubmitButton\n          {...submitButtonSettings}\n          isEnabled={isValid}\n          text={submitButtonText}\n        />\n      }\n    >\n      <fieldset className=\"fieldset form__add-element-fieldset\">\n        <div className=\"field fieldset__field\">\n          <Field\n            {...titleInputSettings}\n            onInput={setTitleInput}\n            isVisible={isOpen}\n          />\n        </div>\n        <div className=\"field fieldset__field\">\n          <Field\n            {...linkInputSettings}\n            onInput={setLinkInput}\n            isVisible={isOpen}\n          />\n        </div>\n      </fieldset>\n    </PopupWithForm>\n  );\n}\n\nexport default AddPlacePopup;\n","import AddPlacePopup from \"./AddPlacePopup\";\nexport default AddPlacePopup;","const popupSettings = {\n  name: \"change-avatar\",\n  title: \"Обновить аватар\",\n};\nconst submitButtonSettings = {\n  defaultText: \"Сохранить\",\n  loadingText: \"Сохранение...\",\n  className: \"form__submit-button\",\n};\nconst avatarInputSettings = {\n  name: \"avatar\",\n  type: \"url\",\n  defaultValue: \"\",\n  placeholder: \"Ссылка на картинку\",\n  required: true,\n};\n\nexport { popupSettings, submitButtonSettings, avatarInputSettings };\n","import React from \"react\";\nimport Field from \"../Field\";\nimport PopupWithForm from \"../PopupWithForm\";\nimport SubmitButton from \"../SubmitButton\";\nimport {\n  popupSettings,\n  submitButtonSettings,\n  avatarInputSettings,\n} from \"./constants\";\n\nfunction EditAvatarPopup({ onClose, isOpen, onUpdateAvatar }) {\n  // ref используется внутри Field\n  // states\n  const [avatarInput, setAvatarInput] = React.useState({\n    value: \"\",\n    isValid: false,\n  });\n  const [isValid, setValid] = React.useState(false);\n  const [submitButtonText, setSubmitButtonText] = React.useState(\n    submitButtonSettings.defaultText\n  );\n\n  // effects\n  React.useEffect(() => {\n    setValid(avatarInput.isValid);\n  }, [avatarInput]);\n\n  // handlers\n  const handleSubmit = (evt) => {\n    evt.preventDefault();\n    if (isValid) {\n      setSubmitButtonText(submitButtonSettings.loadingText);\n      onUpdateAvatar({ avatar: avatarInput.value }).finally(() => {\n        setSubmitButtonText(submitButtonSettings.defaultText);\n      });\n    }\n  };\n\n  return (\n    <PopupWithForm\n      onClose={onClose}\n      isOpen={isOpen}\n      onSubmit={handleSubmit}\n      {...popupSettings}\n      submitButton={\n        <SubmitButton\n          {...submitButtonSettings}\n          isEnabled={isValid}\n          text={submitButtonText}\n        />\n      }\n    >\n      <fieldset className=\"fieldset form__change-avatar-fieldset\">\n        <div className=\"field fieldset__field\">\n          <Field\n            {...avatarInputSettings}\n            onInput={setAvatarInput}\n            isVisible={isOpen}\n          />\n        </div>\n      </fieldset>\n    </PopupWithForm>\n  );\n}\n\nexport default EditAvatarPopup;\n","import EditAvatarPopup from \"./EditAvatarPopup\";\nexport default EditAvatarPopup;","function LoadingSpinner() {\n  return <div className=\"loading-spinner\"></div>;\n}\nexport default LoadingSpinner;","const popupSettings = {\n  name: \"confirm\",\n  title: \"Вы уверены?\"\n}\nconst submitButtonSettings = {\n  className: \"form__submit-button\",\n  defaultText: \"Да\",\n  loadingText: \"Удаление...\",\n};\n\n\nexport { popupSettings, submitButtonSettings };\n","import React from \"react\";\nimport PopupWithForm from \"../PopupWithForm\";\nimport SubmitButton from \"../SubmitButton\";\nimport { popupSettings, submitButtonSettings } from \"./constants\";\n\nfunction ConfirmPopup({ onClose, isOpen, onCardDelete, card }) {\n  // states\n  const [submitButtonText, setSubmitButtonText] = React.useState(\n    submitButtonSettings.defaultText\n  );\n\n  // handlers\n  const handleSubmit = (evt) => {\n    evt.preventDefault();\n    setSubmitButtonText(submitButtonSettings.loadingText);\n    onCardDelete(card).finally(() => {\n      setSubmitButtonText(submitButtonSettings.defaultText);\n    });\n  };\n  return (\n    <PopupWithForm\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n      {...popupSettings}\n      submitButton={\n        <SubmitButton {...submitButtonSettings} text={submitButtonText} />\n      }\n    />\n  );\n}\n\nexport default ConfirmPopup;\n","import ConfirmPopup from \"./ConfirmPopup\";\nexport default ConfirmPopup;","import React from \"react\";\nimport api from \"../utils/api\";\nimport Footer from \"./Footer\";\nimport Header from \"./Header\";\nimport ImagePopup from \"./ImagePopup\";\nimport Main from \"./Main\";\nimport MessagePopup from \"./MessagePopup\";\nimport EditProfilePopup from \"./EditProfilePopup/\";\nimport AddPlacePopup from \"./AddPlacePopup/\";\nimport EditAvatarPopup from \"./EditAvatarPopup/\";\nimport CurrentUserContext from \"../contexts/CurrentUserContext\";\nimport LoadingSpinner from \"./LoadingSpinner\";\nimport ConfirmPopup from \"./ConfirmPopup/\";\n\nfunction App() {\n  // states\n  const [isAppLoading, setIsAppLoading] = React.useState(true);\n  const [isEditProfilePopupOpen, setEditProfilePopupOpen] = React.useState(\n    false\n  );\n  const [isAddPlacePopupOpen, setAddPlacePopupOpen] = React.useState(false);\n  const [isEditAvatarPopupOpen, setEditAvatarPopupOpen] = React.useState(false);\n  const [isConfirmPopupOpen, setConfirmPopupOpen] = React.useState(false);\n  const [isMessagePopupOpen, setMessagePopupOpen] = React.useState(false);\n  const [isImagePopupOpen, setImagePopupOpen] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState();\n  const [popupMessage, setPopupMessage] = React.useState();\n  const [currentUser, setCurrentUser] = React.useState({\n    name: \"\",\n    about: \"\",\n    avatar: \"\",\n    _id: \"\",\n  });\n  const [cards, setCards] = React.useState([]);\n  const [\n    cardCandidateForDeletion,\n    setCardCandidateForDeletion,\n  ] = React.useState();\n\n  // effects\n  React.useEffect(() => {\n    handleApiError(\n      Promise.all([api.getUserInfo(), api.getInitialCards()]),\n      (result) => {\n        const [userInfo, initialCards] = result;\n        setCurrentUser(userInfo);\n        setCards(initialCards);\n        setIsAppLoading(false);\n      }\n    );\n  }, []);\n\n  // handlers\n  const handleApiError = (promise, callback) => {\n    return promise\n      .then((data) => callback(data))\n      .catch((error) => {\n        if (error instanceof TypeError) {\n          setPopupMessage(\n            \"Потеряно соединение с сервером, повторите попытку позднее\"\n          );\n        } else if (typeof error === \"string\") {\n          setPopupMessage(error);\n        } else {\n          setPopupMessage(\"Непредвиденная ошибка, повторите попытку позднее\");\n        }\n        setMessagePopupOpen(true);\n      });\n  };\n  const handleUpdateUser = (data) => {\n    return handleApiError(api.setUserInfo(data), (userInfo) => {\n      setCurrentUser(userInfo);\n      setEditProfilePopupOpen(false);\n    });\n  };\n  const handleAddPlace = (data) => {\n    return handleApiError(api.addPlace(data), (newCard) => {\n      setCards([newCard, ...cards]);\n      setAddPlacePopupOpen(false);\n    });\n  };\n  const handleUpdateAvatar = (data) => {\n    return handleApiError(api.changeAvatar(data.avatar), ({ avatar }) => {\n      currentUser.avatar = avatar;\n      setEditAvatarPopupOpen(false);\n    });\n  };\n\n  // button-handlers\n  const handleEditAvatarClick = () => {\n    setEditAvatarPopupOpen(true);\n  };\n  const handleEditProfileClick = () => {\n    setEditProfilePopupOpen(true);\n  };\n  const handleAddPlaceClick = () => {\n    setAddPlacePopupOpen(true);\n  };\n  // ---------------------------------------------------------------\n\n  // card-handlers\n  const handleCardClick = (card) => {\n    setSelectedCard(card);\n    setImagePopupOpen(true);\n  };\n  const handleCardLike = (card) => {\n    const isLiked = card.likes.some((user) => user._id === currentUser._id);\n    handleApiError(api.changeLikeCardStatus(card._id, !isLiked), (newCard) => {\n      setCards(\n        cards.map((oldCard) => (oldCard._id === card._id ? newCard : oldCard))\n      );\n    });\n  };\n  const handleCardDeleteClick = (card) => {\n    setCardCandidateForDeletion(card);\n    setConfirmPopupOpen(true);\n  };\n  const handleCardDelete = (card) => {\n    return handleApiError(api.deleteCard(card._id), () => {\n      setCards(cards.filter((oldCard) => oldCard._id !== card._id));\n      setConfirmPopupOpen(false);\n    });\n  };\n  // ---------------------------------------------------------------\n\n  // functions\n  const closeMessagePopup = () => {\n    setMessagePopupOpen(false);\n  };\n\n  const closeAllPopups = () => {\n    setEditAvatarPopupOpen(false);\n    setEditProfilePopupOpen(false);\n    setAddPlacePopupOpen(false);\n    setConfirmPopupOpen(false);\n    setImagePopupOpen(false);\n  };\n\n  return (\n    <div className=\"page\">\n      <CurrentUserContext.Provider value={currentUser}>\n        <Header />\n        {isAppLoading ? (\n          <LoadingSpinner />\n        ) : (\n          <>\n            <Main\n              cards={cards}\n              onEditProfile={handleEditProfileClick}\n              onAddPlace={handleAddPlaceClick}\n              onEditAvatar={handleEditAvatarClick}\n              onCardClick={handleCardClick}\n              onCardLike={handleCardLike}\n              onCardDelete={handleCardDeleteClick}\n            />\n            <EditProfilePopup\n              isOpen={isEditProfilePopupOpen}\n              onClose={closeAllPopups}\n              onUpdateUser={handleUpdateUser}\n            />\n            <AddPlacePopup\n              isOpen={isAddPlacePopupOpen}\n              onClose={closeAllPopups}\n              onAddPlace={handleAddPlace}\n            />\n            <EditAvatarPopup\n              isOpen={isEditAvatarPopupOpen}\n              onClose={closeAllPopups}\n              onUpdateAvatar={handleUpdateAvatar}\n            />\n            <ImagePopup\n              {...selectedCard}\n              isOpen={isImagePopupOpen}\n              onClose={closeAllPopups}\n            />\n            <MessagePopup\n              isOpen={isMessagePopupOpen}\n              onClose={closeMessagePopup}\n              message={popupMessage}\n            />\n            <ConfirmPopup\n              card={cardCandidateForDeletion}\n              onCardDelete={handleCardDelete}\n              isOpen={isConfirmPopupOpen}\n              onClose={closeAllPopups}\n            />\n          </>\n        )}\n\n        <Footer />\n      </CurrentUserContext.Provider>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./components/App\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}